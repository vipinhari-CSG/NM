/**-----------------------------------------------------------------------------------------
* Copyright Â© 2021 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
System.register("@progress/kendo-angular-treeview",["tslib","@angular/core","@progress/kendo-angular-common","@progress/kendo-angular-l10n","rxjs","@progress/kendo-licensing","rxjs/operators","@progress/kendo-common","@telerik/kendo-draggable","@angular/common","@progress/kendo-angular-inputs","@angular/animations"],function(a){var r,s,d,c,l,p,u,h,m,f,g,v;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){r=t(e)},function(e){s=t(e)},function(e){d=t(e)},function(e){c=t(e)},function(e){l=t(e)},function(e){p=t(e)},function(e){u=t(e)},function(e){h=t(e)},function(e){m=t(e)},function(e){f=t(e)},function(e){g=t(e)},function(e){v=t(e)}],execute:function(){function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,o;i=[function(e,t){e.exports=r},function(e,t){e.exports=s},function(e,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var i=t(4),s=t(8),o=/^(?:a|input|select|option|textarea|button|object)$/i,l=(c.match=function(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return!!i&&i.call(e,t)},c.closestWithMatch=function(e,t){if(!document.documentElement.contains(e))return null;for(var i=e;null!==i&&1===i.nodeType;){if(c.match(i,t))return i;i=i.parentElement||i.parentNode}return null},c.noop=function(){},c.isPresent=function(e){return null!=e},c.isBlank=function(e){return null==e},c.isArray=function(e){return Array.isArray(e)},c.isNullOrEmptyString=function(e){return c.isBlank(e)||0===e.trim().length},c.isBoolean=function(e){return"boolean"==typeof e},c.closestNode=function(e){return i.isDocumentAvailable()?e.closest?e.closest("li.k-treeview-item"):c.closestWithMatch(e,"li.k-treeview-item"):null},c.isFocusable=function(e){var t,i,n;return!!e.tagName&&(t=e.tagName.toLowerCase(),i="-1"===(n=e.getAttribute("tabIndex")),n=null!==n&&!i,o.test(t)?!e.disabled&&!i:n)},c.isContent=function(e){if(!i.isDocumentAvailable())return null;for(var t=e;t&&!c.match(t,".k-treeview-leaf:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)t=t.parentNode;return t?c.match(t,".k-treeview-leaf:not(.k-treeview-load-more-button)"):void 0},c.getContentElement=function(e){if(!c.isPresent(e))return null;var t=".k-treeview-leaf:not(.k-treeview-load-more-button)";return c.match(e,t)?e:e.querySelector(t)},c.isLoadMoreButton=function(e){return c.isPresent(c.closestWithMatch(e,".k-treeview-leaf.k-treeview-load-more-button"))},c.closest=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},c.hasParent=function(e,t){return Boolean(c.closest(e,function(e){return e===t}))},c.focusableNode=function(e){return e.nativeElement.querySelector('li[tabindex="0"]')},c.hasActiveNode=function(e,t){t=t||c.closestNode(e);return t&&(t===e||e.tabIndex<0)},c.nodeId=function(e){return e?e.getAttribute("data-treeindex"):""},c.nodeIndex=function(e){return(e||{}).index},c.dataItemsEqual=function(e,t){return!c.isPresent(e)&&!c.isPresent(t)||c.isPresent(e)&&c.isPresent(t)&&e.item.dataItem===t.item.dataItem},c.getDataItem=function(e){return c.isPresent(e)?e.item.dataItem:e},c.isArrayWithAtLeastOneItem=function(e){return e&&Array.isArray(e)&&0!==e.length},c.filterTree=function(e,i,t,n,o){var r=t.operator,a=t.ignoreCase,s=t.mode,d=(void 0===o&&(o=0),"string"==typeof n?n:n[o]);e.forEach(function(e){var t=("string"==typeof r?u(d,r,a):r)(e.dataItem,i);e.isMatch=t,e.visible=t,e.containsMatches=!1,t&&l(e.parent),e.children&&0<e.children.length&&("strict"!==s&&t?p(e.children):c.filterTree(e.children,i,{operator:r,ignoreCase:a,mode:s},n,o+1))})},function(e){c.isPresent(e)&&(e.containsMatches=!0,e.visible=!0,c.isPresent(e.parent)&&!e.parent.containsMatches&&l(e.parent))}),p=function(e){e.forEach(function(e){e.visible=!0,e.children&&p(e.children)})},d={contains:function(e,t){return 0<=e.indexOf(t)},doesnotcontain:function(e,t){return-1===e.indexOf(t)},startswith:function(e,t){return 0===e.lastIndexOf(t,0)},doesnotstartwith:function(e,t){return-1===e.lastIndexOf(t,0)},endswith:function(e,t){return 0<=e.indexOf(t,e.length-t.length)},doesnotendwith:function(e,t){return e.indexOf(t,e.length-t.length)<0}},u=function(o,r,a){return function(e,t){i=d[r],n=a;var i,n,e=s.getter(o)(e);return n?i(e.toLowerCase(),t.toLowerCase()):i(e,t)}};c.buildTreeIndex=function(e,t){return[e,t].filter(function(e){return c.isPresent(e)}).join("_")},c.buildTreeItem=function(e,t,i){return c.isPresent(e)?{dataItem:e,index:c.buildTreeIndex(i,t)}:null},c.fetchLoadedDescendants=function(e,t){if(!c.isPresent(e)||0===e.children.length)return[];var i=e.children;return(i=c.isPresent(t)?i.filter(t):i).forEach(function(e){return i=i.concat(c.fetchLoadedDescendants(e,t))}),i},c.sameValues=function(e,t){return e.size===t.size&&Array.from(e).every(function(e){return t.has(e)})},c.getSizeClass=function(e,t){return{small:"k-"+e+"-sm",medium:"k-"+e+"-md",large:"k-"+e+"-lg"}[t]}},function(e,t){e.exports=l},function(e,t){e.exports=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),u=i(1),o=i(4),r=i(45),h=i(3),m=i(67),f=i(66),a=i(44),g=i(32),s=i(18),d=i(9),c=i(31),l=i(17),p=i(43),v=i(16),y=i(15),_=i(14),b=i(30),I=i(29),x=i(28),D=i(2),i=[s.ExpandStateService,d.IndexBuilderService,x.TreeViewLookupService,c.LoadingNotificationService,p.NodeChildrenService,l.NavigationService,I.SelectionService,a.DataChangeNotificationService,r.LocalizationService,{provide:r.L10N_PREFIX,useValue:"kendo.treeview"},{provide:_.DataBoundComponent,useExisting:u.forwardRef(function(){return S})},{provide:b.ExpandableComponent,useExisting:u.forwardRef(function(){return S})}],S=(Object.defineProperty(C.prototype,"direction",{get:function(){return this.localization.rtl?"rtl":"ltr"},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"animate",{get:function(){return!this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"nodeTemplateRef",{get:function(){return this._nodeTemplateRef||this.nodeTemplateQuery},set:function(e){this._nodeTemplateRef=e},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"loadMoreButtonTemplateRef",{get:function(){return this._loadMoreButtonTemplateRef||this.loadMoreButtonTemplateQuery},set:function(e){this._loadMoreButtonTemplateRef=e},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"nodes",{get:function(){return this.data.value},set:function(e){this.data.next(e||[]),this.dataChangeNotification.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"hasChildren",{get:function(){return this._hasChildren||g.hasChildren},set:function(e){this._hasChildren=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"isChecked",{get:function(){return this._isChecked||g.isChecked},set:function(e){this._isChecked=e,this.checkboxes=Boolean(this._isChecked)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"isExpanded",{get:function(){return this._isExpanded||g.isExpanded},set:function(e){this._isExpanded=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"isSelected",{get:function(){return this._isSelected||g.isSelected},set:function(e){this._isSelected=e,this.selectable=Boolean(this._isSelected)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"size",{get:function(){return this._size},set:function(e){this.renderer.removeClass(this.element.nativeElement,D.getSizeClass("treeview",this.size)),e&&this.renderer.addClass(this.element.nativeElement,D.getSizeClass("treeview",e)),this._size=e},enumerable:!0,configurable:!0}),C.prototype.ngOnChanges=function(e){this.navigationService.navigable=Boolean(this.navigable),o.anyChanged(["nodes","children","hasChildren","loadOnDemand"],e,!1)&&!this.loadOnDemand&&this.preloadChildNodes()},C.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(function(e){return e()})},C.prototype.ngOnInit=function(){var n=this;this.subscriptions.add(this.nodeChildrenService.changes.subscribe(function(e){return n.childrenLoaded.emit(e)})),this.subscriptions.add(this.expandService.changes.subscribe(function(e){var t=e.index,i=e.dataItem;return(e.expand?n.expand:n.collapse).emit({index:t,dataItem:i})})),this.subscriptions.add(this.navigationService.checks.subscribe(function(e){return n.checkedChange.emit(n.treeViewLookupService.itemLookup(e))})),this.subscriptions.add(this.selectionService.changes.subscribe(function(e){o.hasObservers(n.selectionChange)&&n.ngZone.run(function(){n.selectionChange.emit(e)})})),this.element&&this.ngZone.runOutsideAngular(function(){n.attachDomHandlers()}),this.size&&this.renderer.addClass(this.element.nativeElement,D.getSizeClass("treeview",this.size))},C.prototype.blur=function(){var e;o.isDocumentAvailable()&&(e=D.focusableNode(this.element),document.activeElement===e&&e.blur())},C.prototype.focus=function(e){e=e||D.nodeIndex(this.navigationService.focusableItem),this.navigationService.activateIndex(e),e=D.focusableNode(this.element);e&&e.focus()},C.prototype.itemLookup=function(e){return this.treeViewLookupService.itemLookup(e)},C.prototype.rebindChildren=function(){this.dataChangeNotification.notify()},C.prototype.expandNode=function(e,t){this.expandService.expand(t,e)},C.prototype.collapseNode=function(e,t){this.expandService.collapse(t,e)},C.prototype.getNodePageSize=function(e){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(e)},C.prototype.setNodePageSize=function(e,t){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(e,t)},C.prototype.preloadChildNodes=function(){this.treeViewLookupService.reset(),this.registerLookupItems(this.nodes)},C.prototype.attachDomHandlers=function(){var e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))},C.prototype.focusHandler=function(e){var t,i=this;D.match(e.target,".k-treeview-item")?t=e.target:D.isFocusable(e.target)||(t=D.closestNode(e.target)),t&&(this.navigationService.activateIndex(D.nodeId(e.target)),!this.isActive&&o.hasObservers(this.onFocus)&&this.ngZone.run(function(){i.onFocus.emit()}),this.isActive=!0)},C.prototype.blurHandler=function(e){var t=this;!this.isActive||!D.match(e.target,".k-treeview-item")||e.relatedTarget&&D.match(e.relatedTarget,".k-treeview-item")&&D.hasParent(e.relatedTarget,this.element.nativeElement)||(this.navigationService.deactivate(),this.isActive=!1,o.hasObservers(this.onBlur)&&this.ngZone.run(function(){t.onBlur.emit()}))},C.prototype.clickHandler=function(t){var i,n=this,e=t.target;"contextmenu"===t.type&&!o.hasObservers(this.nodeClick)||!("click"!==t.type||o.hasObservers(this.nodeClick)||o.hasObservers(this.selectionChange)||D.isLoadMoreButton(e))||"dblclick"===t.type&&!o.hasObservers(this.nodeDblClick)||D.isFocusable(e)||!D.isContent(e)&&!D.isLoadMoreButton(e)||!D.hasParent(e,this.element.nativeElement)||(i=D.nodeId(D.closestNode(e)))&&!this.navigationService.isDisabled(i)&&this.ngZone.run(function(){var e=n.treeViewLookupService.itemLookup(i);if("click"===t.type){if(n.navigationService.model.findNode(i).loadMoreButton)return void n.navigationService.notifyLoadMore(i);n.navigationService.selectIndex(i)}("dblclick"===t.type?n.nodeDblClick:n.nodeClick).emit({item:e.item,originalEvent:t,type:t.type})})},C.prototype.keydownHandler=function(e){var t=this;this.isActive&&this.navigable&&this.ngZone.run(function(){t.navigationService.move(e)})},C.prototype.verifyLoadMoreService=function(){if(u.isDevMode()&&!D.isPresent(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")},C.prototype.registerLookupItems=function(e,i){var n,o=this;void 0===i&&(i=null),D.isPresent(e)&&0!==e.length&&(n=D.nodeIndex(i),e=e.map(function(e,t){return D.buildTreeItem(e,t,n)}),D.isPresent(i)&&this.treeViewLookupService.registerChildren(n,e),e.forEach(function(t){o.treeViewLookupService.registerItem(t,i),o.hasChildren(t.dataItem)&&o.children(t.dataItem).subscribe(function(e){return o.registerLookupItems(e,t)})}))},n.__decorate([u.HostBinding("class.k-treeview"),n.__metadata("design:type",Boolean)],C.prototype,"classNames",void 0),n.__decorate([u.HostBinding("attr.role"),n.__metadata("design:type",String)],C.prototype,"role",void 0),n.__decorate([u.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],C.prototype,"direction",null),n.__decorate([u.ViewChild("assetsContainer",{read:u.ViewContainerRef,static:!0}),n.__metadata("design:type",u.ViewContainerRef)],C.prototype,"assetsContainer",void 0),n.__decorate([u.Input(),n.__metadata("design:type",String)],C.prototype,"filterInputPlaceholder",void 0),n.__decorate([u.Input(),u.HostBinding("@.disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],C.prototype,"animate",null),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"childrenLoaded",void 0),n.__decorate([u.Output("blur"),n.__metadata("design:type",u.EventEmitter)],C.prototype,"onBlur",void 0),n.__decorate([u.Output("focus"),n.__metadata("design:type",u.EventEmitter)],C.prototype,"onFocus",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"expand",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"collapse",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeDragStart",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeDrag",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"filterStateChange",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeDrop",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeDragEnd",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"addItem",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"removeItem",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"checkedChange",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"selectionChange",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"filterChange",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeClick",void 0),n.__decorate([u.Output(),n.__metadata("design:type",u.EventEmitter)],C.prototype,"nodeDblClick",void 0),n.__decorate([u.ContentChild(v.NodeTemplateDirective,{static:!1}),n.__metadata("design:type",v.NodeTemplateDirective)],C.prototype,"nodeTemplateQuery",void 0),n.__decorate([u.Input("nodeTemplate"),n.__metadata("design:type",v.NodeTemplateDirective),n.__metadata("design:paramtypes",[v.NodeTemplateDirective])],C.prototype,"nodeTemplateRef",null),n.__decorate([u.ContentChild(y.LoadMoreButtonTemplateDirective,{static:!1}),n.__metadata("design:type",y.LoadMoreButtonTemplateDirective)],C.prototype,"loadMoreButtonTemplateQuery",void 0),n.__decorate([u.Input("loadMoreButtonTemplate"),n.__metadata("design:type",y.LoadMoreButtonTemplateDirective),n.__metadata("design:paramtypes",[y.LoadMoreButtonTemplateDirective])],C.prototype,"loadMoreButtonTemplateRef",null),n.__decorate([u.Input(),n.__metadata("design:type",Function)],C.prototype,"trackBy",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],C.prototype,"nodes",null),n.__decorate([u.Input(),n.__metadata("design:type",Object)],C.prototype,"textField",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],C.prototype,"hasChildren",null),n.__decorate([u.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],C.prototype,"isChecked",null),n.__decorate([u.Input(),n.__metadata("design:type",Function)],C.prototype,"isDisabled",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],C.prototype,"isExpanded",null),n.__decorate([u.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],C.prototype,"isSelected",null),n.__decorate([u.Input(),n.__metadata("design:type",Function)],C.prototype,"isVisible",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Boolean)],C.prototype,"navigable",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Function)],C.prototype,"children",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Boolean)],C.prototype,"loadOnDemand",void 0),n.__decorate([u.Input(),n.__metadata("design:type",Boolean)],C.prototype,"filterable",void 0),n.__decorate([u.Input(),n.__metadata("design:type",String)],C.prototype,"filter",void 0),n.__decorate([u.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],C.prototype,"size",null),n.__decorate([u.Component({changeDetection:u.ChangeDetectionStrategy.Default,exportAs:"kendoTreeView",providers:i,selector:"kendo-treeview",template:'\n        <span\n            class="k-treeview-filter"\n            *ngIf="filterable"\n        >\n            <kendo-textbox\n                [size]="size"\n                [value]="filter"\n                [clearButton]="true"\n                (valueChange)="filterChange.emit($event)"\n                [placeholder]="filterInputPlaceholder"\n            >\n                <ng-template kendoTextBoxPrefixTemplate>\n                    <span class="k-input-icon k-icon k-i-search"></span>\n                </ng-template>\n            </kendo-textbox>\n        </span>\n        <ul class="k-treeview-lines"\n            kendoTreeViewGroup\n            role="group"\n            [size]="size"\n            [loadOnDemand]="loadOnDemand"\n            [checkboxes]="checkboxes"\n            [expandIcons]="expandIcons"\n            [selectable]="selectable"\n            [touchActions]="touchActions"\n            [children]="children"\n            [hasChildren]="hasChildren"\n            [isChecked]="isChecked"\n            [isDisabled]="isDisabled"\n            [isExpanded]="isExpanded"\n            [isSelected]="isSelected"\n            [isVisible]="isVisible"\n            [nodeTemplateRef]="nodeTemplateRef?.templateRef"\n            [loadMoreButtonTemplateRef]="loadMoreButtonTemplateRef?.templateRef"\n            [textField]="textField"\n            [nodes]="fetchNodes"\n            [loadMoreService]="loadMoreService"\n            [trackBy]="trackBy"\n        >\n        </ul>\n        <ng-container #assetsContainer></ng-container>\n    '}),n.__metadata("design:paramtypes",[u.ElementRef,u.ChangeDetectorRef,s.ExpandStateService,l.NavigationService,p.NodeChildrenService,I.SelectionService,x.TreeViewLookupService,u.NgZone,u.Renderer2,a.DataChangeNotificationService,r.LocalizationService])],C));function C(e,t,i,n,o,r,a,s,d,c,l){var p=this;this.element=e,this.changeDetectorRef=t,this.expandService=i,this.navigationService=n,this.nodeChildrenService=o,this.selectionService=r,this.treeViewLookupService=a,this.ngZone=s,this.renderer=d,this.dataChangeNotification=c,this.localization=l,this.classNames=!0,this.role="tree",this.filterInputPlaceholder="",this.fetchNodes=function(){return p.data},this.childrenLoaded=new u.EventEmitter,this.onBlur=new u.EventEmitter,this.onFocus=new u.EventEmitter,this.expand=new u.EventEmitter,this.collapse=new u.EventEmitter,this.nodeDragStart=new u.EventEmitter,this.nodeDrag=new u.EventEmitter,this.filterStateChange=new u.EventEmitter,this.nodeDrop=new u.EventEmitter,this.nodeDragEnd=new u.EventEmitter,this.addItem=new u.EventEmitter,this.removeItem=new u.EventEmitter,this.checkedChange=new u.EventEmitter,this.selectionChange=new u.EventEmitter,this.filterChange=new u.EventEmitter,this.nodeClick=new u.EventEmitter,this.nodeDblClick=new u.EventEmitter,this.trackBy=g.trackBy,this.isDisabled=g.isDisabled,this.isVisible=g.isVisible,this.navigable=!0,this.children=function(){return h.of([])},this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.checkboxes=!1,this.expandIcons=!1,this.selectable=!1,this.touchActions=!0,this.isActive=!1,this.data=new h.BehaviorSubject([]),this._animate=!0,this._size="medium",this.subscriptions=new h.Subscription,this.domSubscriptions=[],m.validatePackage(f.packageMetadata)}t.TreeViewComponent=S},function(e,t){e.exports=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);n.__exportStar(i(42),t),n.__exportStar(i(41),t),n.__exportStar(i(58),t),n.__exportStar(i(22),t),n.__exportStar(i(40),t),n.__exportStar(i(39),t),n.__exportStar(i(38),t)},function(e,t){e.exports=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=(o.prototype.nodeIndex=function(e,t){return""+(t=void 0===t?"":t)+(t?this.INDEX_SEPARATOR:"")+(e=void 0===e?"":e)},o.prototype.indexForLevel=function(e,t){return e.split(this.INDEX_SEPARATOR).slice(0,t).join(this.INDEX_SEPARATOR)},o.prototype.lastLevelIndex=function(e){e=(e=void 0===e?"":e).split(this.INDEX_SEPARATOR);return e.length?parseInt(e[e.length-1],10):NaN},o.prototype.level=function(e){return e.split(this.INDEX_SEPARATOR).length},n.__decorate([i.Injectable()],o));function o(){this.INDEX_SEPARATOR="_"}t.IndexBuilderService=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Directive({selector:"[kendoTreeViewDropHintTemplate]"}),n.__param(0,i.Optional()),n.__metadata("design:paramtypes",[i.TemplateRef])],o);function o(e){this.templateRef=e}t.DropHintTemplateDirective=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Directive({selector:"[kendoTreeViewDragClueTemplate]"}),n.__param(0,i.Optional()),n.__metadata("design:paramtypes",[i.TemplateRef])],o);function o(e){this.templateRef=e}t.DragClueTemplateDirective=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),l=i(4),r=i(57),a=i(56),s=i(55),d=i(11),c=i(10),p=i(13),u=i(2),h=i(5),m=i(7),f={enabled:!0,step:1,interval:1},i=(Object.defineProperty(g.prototype,"scrollSettings",{get:function(){var e="boolean"==typeof this.autoScroll?{enabled:this.autoScroll}:this.autoScroll;return Object.assign({},f,e)},enumerable:!0,configurable:!0}),g.prototype.ngAfterContentInit=function(){this.initalizeDraggable(),this.dragClueService.initialize(this.treeview.assetsContainer,this.dragClueTemplate&&this.dragClueTemplate.templateRef),this.dropHintService.initialize(this.treeview.assetsContainer,this.dropHintTemplate&&this.dropHintTemplate.templateRef)},g.prototype.ngOnDestroy=function(){this.draggable.destroy()},g.prototype.handlePress=function(e){e=e.originalEvent;u.isContent(e.target)&&(this.draggedItem=u.closestWithMatch(e.target,".k-treeview-leaf"),this.pendingDragStartEvent=e)},g.prototype.handleDrag=function(e){var t,i,n,o,r,a,s=this,d=e.originalEvent,c=e.clientX,e=e.clientY;this.shouldInitiateDragStart({clientX:c,clientY:e})&&this.initiateDragStart(),u.isPresent(this.draggedItem)&&!u.isPresent(this.pendingDragStartEvent)&&(t=p.getDropTarget(d),l.hasObservers(this.treeview.nodeDrag)&&this.zone.run(function(){return s.notifyDrag(d,t)}),a=this.getTargetTreeView(t),i=p.getDropPosition(this.draggedItem,t,e,a,this.containerOffset),n=u.closestWithMatch(t,".k-treeview-mid"),o=p.getDropAction(i,t),r=p.treeItemFromEventTarget(this.treeview,this.draggedItem),a=p.treeItemFromEventTarget(a,t),this.updateDropHintState(i,n,o,r,a),this.updateDragClueState(o,c,e,r,a),this.scrollSettings.enabled&&this.dragClueService.scrollIntoView(this.scrollSettings))},g.prototype.handleRelease=function(e){var t=this,i=e.originalEvent,e=e.clientY;if(this.scrollSettings.enabled&&this.dragClueService.cancelScroll(),!u.isPresent(this.draggedItem)||u.isPresent(this.pendingDragStartEvent))return this.pendingDragStartEvent=null,void(this.draggedItem=null);var n=p.getDropTarget(i),o=this.treeview,r=this.getTargetTreeView(n),a=p.getDropPosition(this.draggedItem,n,e,this.getTargetTreeView(n),this.containerOffset),s=p.treeItemFromEventTarget(o,this.draggedItem),d=p.treeItemFromEventTarget(r,n);u.isPresent(d)&&u.isPresent(a)?this.zone.run(function(){return t.notifyDrop({sourceItem:s,destinationItem:d,dropPosition:a,sourceTree:o,destinationTree:r},i)}):this.dragClueService.animateDragClueToElementPosition(this.draggedItem),l.hasObservers(this.treeview.nodeDragEnd)&&this.zone.run(function(){return t.notifyDragEnd({sourceItem:s,destinationItem:d,originalEvent:i})}),this.dropHintService.hide(),this.draggedItem=null},g.prototype.updateDropHintState=function(e,t,i,n,o){u.isPresent(t)&&e!==m.DropPosition.Over&&u.isPresent(e)?(t=t.getBoundingClientRect(),e=e===m.DropPosition.Before?t.top:t.top+t.height,this.dropHintService.updateDropHintData(i,n,o),this.dropHintService.move(t.left-this.containerOffset.left,e-this.containerOffset.top),this.dropHintService.show()):this.dropHintService.hide()},g.prototype.updateDragClueState=function(e,t,i,n,o){this.dragClueService.move(t-this.containerOffset.left,i-this.containerOffset.top),this.dragClueService.updateDragClueData(e,n,o),this.dragClueService.show()},g.prototype.initalizeDraggable=function(){var e=this;this.draggable=new r.default({press:this.handlePress.bind(this),drag:this.handleDrag.bind(this),release:this.handleRelease.bind(this)}),this.zone.runOutsideAngular(function(){return e.draggable.bindTo(e.element.nativeElement)})},g.prototype.notifyDragStart=function(e,t){t=p.treeItemFromEventTarget(this.treeview,t),t=new m.TreeItemDragStartEvent({sourceItem:t,originalEvent:e});return this.treeview.nodeDragStart.emit(t),t},g.prototype.notifyDrag=function(e,t){t={sourceItem:p.treeItemFromEventTarget(this.treeview,this.draggedItem),destinationItem:p.treeItemFromEventTarget(this.getTargetTreeView(t),t),originalEvent:e};this.treeview.nodeDrag.emit(t)},g.prototype.notifyDrop=function(e,t){var i=new m.TreeItemDropEvent(e,t);e.destinationTree.nodeDrop.emit(i),this.disableAnimationsForNextTick(e.destinationTree),e.sourceTree!==e.destinationTree&&this.disableAnimationsForNextTick(e.sourceTree),!i.isDefaultPrevented()&&i.isValid?(this.dragClueService.hide(),e.destinationTree.addItem.emit(e),t.ctrlKey&&this.allowCopy||e.sourceTree.removeItem.emit(e)):i.isDefaultPrevented()?this.dragClueService.hide():i.isValid||this.dragClueService.animateDragClueToElementPosition(this.draggedItem)},g.prototype.notifyDragEnd=function(e){this.treeview.nodeDragEnd.emit(e)},g.prototype.getTargetTreeView=function(e){var t=this.treeview.element.nativeElement.tagName,i=u.closestWithMatch(e,t);return[this.treeview].concat(this.dropZoneTreeViews).find(function(e){return u.isPresent(e)&&e.element.nativeElement===i})},g.prototype.disableAnimationsForNextTick=function(e){e.animate||(e.animate=!1,this.zone.runOutsideAngular(function(){return setTimeout(function(){return e.animate=!0})}))},g.prototype.shouldInitiateDragStart=function(e){return!!u.isPresent(this.pendingDragStartEvent)&&Math.sqrt(Math.pow(this.pendingDragStartEvent.clientX-e.clientX,2)+Math.pow(this.pendingDragStartEvent.clientY-e.clientY,2))>=this.startDragAfter},g.prototype.initiateDragStart=function(){var e=this;if(l.hasObservers(this.treeview.nodeDragStart)&&this.zone.run(function(){return e.notifyDragStart(e.pendingDragStartEvent,p.getDropTarget(e.pendingDragStartEvent))}).isDefaultPrevented())return this.pendingDragStartEvent=null,void(this.draggedItem=null);this.dragClueService.cancelReturnAnimation(),this.dragClueService.updateText(this.draggedItem.innerText),this.containerOffset=p.getContainerOffset(this.draggedItem),this.pendingDragStartEvent=null},n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"allowCopy",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],g.prototype,"dropZoneTreeViews",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],g.prototype,"startDragAfter",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],g.prototype,"autoScroll",void 0),n.__decorate([o.ContentChild(d.DragClueTemplateDirective,{static:!1}),n.__metadata("design:type",d.DragClueTemplateDirective)],g.prototype,"dragClueTemplate",void 0),n.__decorate([o.ContentChild(c.DropHintTemplateDirective,{static:!1}),n.__metadata("design:type",c.DropHintTemplateDirective)],g.prototype,"dropHintTemplate",void 0),n.__decorate([o.HostBinding("style.user-select"),o.HostBinding("style.-ms-user-select"),o.HostBinding("style.-moz-user-select"),o.HostBinding("style.-webkit-user-select"),n.__metadata("design:type",String)],g.prototype,"userSelectStyle",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewDragAndDrop]",providers:[a.DragClueService,s.DropHintService]}),n.__metadata("design:paramtypes",[o.ElementRef,o.NgZone,h.TreeViewComponent,a.DragClueService,s.DropHintService])],g));function g(e,t,i,n,o){this.element=e,this.zone=t,this.treeview=i,this.dragClueService=n,this.dropHintService=o,this.allowCopy=!1,this.dropZoneTreeViews=[],this.startDragAfter=5,this.autoScroll=!0,this.userSelectStyle="none",this.containerOffset={top:0,left:0},this.treeview.touchActions=!1}t.DragAndDropDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,s=i(4),d=i(2),c=i(7),r=(o=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o||(n=function(){if(!s.isDocumentAvailable()||!d.isPresent(document.body))return!1;var e=document.createElement("div"),t=(e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e),10!==e.children[0].getBoundingClientRect().top);return document.body.removeChild(e),t}.apply(void 0,e),o=!0),n}),a=(t.getContainerOffset=function(e){if(!e||!r())return{left:0,top:0};for(var t=e.parentElement;t&&"none"===window.getComputedStyle(t).transform;)t=t.parentElement;return t?{left:(e=t.getBoundingClientRect()).left-t.scrollLeft,top:e.top-t.scrollTop}:{left:0,top:0}},t.getDropAction=function(e,t){if(!d.isPresent(e)||!d.isPresent(t))return c.DropAction.Invalid;switch(e){case c.DropPosition.Over:return c.DropAction.Add;case c.DropPosition.Before:return d.isPresent(d.closestNode(t).previousElementSibling)?c.DropAction.InsertMiddle:c.DropAction.InsertTop;case c.DropPosition.After:return d.isPresent(d.closestNode(t).nextElementSibling)?c.DropAction.InsertMiddle:c.DropAction.InsertBottom;default:return c.DropAction.Invalid}},t.getDropPosition=function(e,t,i,n,o){if(d.isPresent(e)&&d.isPresent(t)&&d.isPresent(n)&&d.isPresent(o)){n=d.closestWithMatch(t,".k-treeview-mid");if(d.isPresent(n)){var r=d.getContentElement(n),n=d.hasParent(n,d.closestNode(e));if(d.isPresent(r)&&r!==e&&!n)return n=(e=r.getBoundingClientRect()).height/(d.isContent(t)?4:2),(r=i-o.top)<(t=e.top-o.top)+n?c.DropPosition.Before:r>=t+e.height-n?c.DropPosition.After:c.DropPosition.Over}}},t.treeItemFromEventTarget=function(e,t){if(!d.isPresent(e)||!d.isPresent(t))return null;t=d.closestNode(t),t=d.nodeId(t),e=e.itemLookup(t);return d.isPresent(e)&&d.isPresent(e.item.dataItem)?e:null},t.collapseEmptyParent=function(e,t,i){d.isPresent(e)&&0===t.length&&i.isExpanded(e.item.dataItem,e.item.index)&&i.collapseNode(e.item.dataItem,e.item.index)},t.expandDropTarget=function(e,t){t.isExpanded(e.item.dataItem,e.item.index)||t.expandNode(e.item.dataItem,e.item.index)},t.getDropTarget=function(e){return s.isDocumentAvailable()&&d.isPresent(document.elementFromPoint)?document.elementFromPoint(e.clientX,e.clientY):e.target},t.updateMovedItemIndex=function(e,t){var i=e.split("_"),t=t.split("_");if(i.length<t.length)return e;var n=t.length-1,o=t.slice(0,n).join("_"),n=i.slice(0,n).join("_"),r=t.length-1,t=Number(t[r]),a=Number(i[r]);return o===n&&t<a?(i[r]=String(a-1),i.join("_")):e},new RegExp("(auto|scroll)"));t.getScrollableContainer=function(e){for(;d.isPresent(e)&&"HTML"!==e.nodeName;){var t=e.scrollHeight>e.clientHeight,i=a.test(getComputedStyle(e).overflowY);if(t&&i)return e;e=e.parentNode}return e};t.scrollElementBy=function(e,t,i){if(d.isPresent(e)&&s.isDocumentAvailable())for(var n=e.scrollTop,o=t,r=0;!(n!==e.scrollTop||i===c.ScrollDirection.Up&&Math.floor(e.scrollTop)<=0||i===c.ScrollDirection.Down&&(a=e,Math.ceil(a.scrollTop)>=a.scrollHeight-a.clientHeight)||!(r<20));)e.scrollTop+=o*i,o+=1,r+=1;var a}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Injectable()],o);function o(){}t.DataBoundComponent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Directive({selector:"[kendoTreeViewLoadMoreButtonTemplate]"}),n.__param(0,i.Optional()),n.__metadata("design:paramtypes",[i.TemplateRef])],o);function o(e){this.templateRef=e}t.LoadMoreButtonTemplateDirective=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Directive({selector:"[kendoTreeViewNodeTemplate]"}),n.__param(0,i.Optional()),n.__metadata("design:paramtypes",[i.TemplateRef])],o);function o(e){this.templateRef=e}t.NodeTemplateDirective=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(4),a=i(45),s=i(3),d=i(65),c=i(2),i=(Object.defineProperty(l.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"activeIndex",{get:function(){return c.nodeIndex(this.activeItem)||null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isActiveExpanded",{get:function(){return this.activeItem&&0<this.activeItem.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isLoadMoreButton",{get:function(){return this.activeItem&&this.activeItem.loadMoreButton},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"focusableItem",{get:function(){return this.activeItem||this.model.firstFocusableNode()},enumerable:!0,configurable:!0}),l.prototype.activate=function(e,t){void 0===t&&(t=!1),this.navigable&&e&&!this.isActive(c.nodeIndex(e))&&(this.isFocused=!0,this.activeItem=e||this.activeItem,this.shouldScroll=t,this.notifyMove())},l.prototype.activateParent=function(e){this.activate(this.model.findParent(e))},l.prototype.activateIndex=function(e){e&&this.activate(this.model.findNode(e))},l.prototype.activateClosest=function(e){e&&c.nodeIndex(this.focusableItem)===e&&(this.activeItem=this.model.closestNode(e),this.notifyMove())},l.prototype.activateFocusable=function(){this.activeItem||(this.activeItem=this.model.firstVisibleNode(),this.notifyMove())},l.prototype.deactivate=function(){this.navigable&&this.isFocused&&(this.isFocused=!1,this.notifyMove())},l.prototype.checkIndex=function(e){this.isDisabled(e)||this.checks.next(e)},l.prototype.selectIndex=function(e){this.isDisabled(e)||this.selects.next(e)},l.prototype.notifyLoadMore=function(e){c.isPresent(e)&&this.loadMore.next(e)},l.prototype.isActive=function(e){return!!e&&this.isFocused&&this.activeIndex===e},l.prototype.isFocusable=function(e){return c.nodeIndex(this.focusableItem)===e},l.prototype.isDisabled=function(e){return this.model.findNode(e).disabled},l.prototype.registerItem=function(e,t,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!0);var r=this.model.findNode(t);c.isPresent(r)&&(this.model.unregisterItem(r.id,r.index),this.isActive(t)&&this.deactivate()),this.model.registerItem(e,t,i,n,o)},l.prototype.unregisterItem=function(e,t){this.isActive(t)&&this.activateParent(t),this.model.unregisterItem(e,t)},l.prototype.move=function(e){var t;this.navigable&&(t=this.actions[e.keyCode])&&(t(),e.preventDefault())},l.prototype.expand=function(e){var t=e.expand,e=e.intercept,i=c.nodeIndex(this.activeItem);i&&!e(i)&&this.notifyExpand(t)},l.prototype.moveToParent=function(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(c.nodeIndex(this.activeItem))),!0)},l.prototype.moveToFirstVisibleChild=function(){return!!this.isActiveExpanded&&(this.activate(this.model.findVisibleChild(c.nodeIndex(this.activeItem))),!0)},l.prototype.notifyExpand=function(e){this.expands.next(this.navigationState(e))},l.prototype.notifyMove=function(){this.moves.next(this.navigationState())},l.prototype.navigationState=function(e){return{expand:e=void 0===e?!1:e,index:this.activeIndex,isFocused:this.isFocused,shouldScroll:this.shouldScroll}},l.prototype.handleEnter=function(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.selectIndex(this.activeIndex))},l.prototype.handleSpace=function(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))},n.__decorate([o.Injectable(),n.__metadata("design:paramtypes",[a.LocalizationService])],l));function l(e){var t=this;this.localization=e,this.expands=new s.Subject,this.moves=new s.Subject,this.checks=new s.Subject,this.selects=new s.Subject,this.loadMore=new s.Subject,this.navigable=!0,this.actions=((e={})[r.Keys.ArrowUp]=function(){return t.activate(t.model.findVisiblePrev(t.focusableItem),!0)},e[r.Keys.ArrowDown]=function(){return t.activate(t.model.findVisibleNext(t.focusableItem),!0)},e[r.Keys.ArrowLeft]=function(){return!t.isLoadMoreButton&&t.expand({expand:t.localization.rtl,intercept:t.localization.rtl?t.moveToFirstVisibleChild:t.moveToParent})},e[r.Keys.ArrowRight]=function(){return!t.isLoadMoreButton&&t.expand({expand:!t.localization.rtl,intercept:t.localization.rtl?t.moveToParent:t.moveToFirstVisibleChild})},e[r.Keys.Home]=function(){return t.activate(t.model.firstVisibleNode(),!0)},e[r.Keys.End]=function(){return t.activate(t.model.lastVisibleNode(),!0)},e[r.Keys.Enter]=function(){return t.handleEnter()},e[r.Keys.Space]=function(){return t.handleSpace()},e),this.isFocused=!1,this.shouldScroll=!1,this._model=new d.NavigationModel,this.moveToFirstVisibleChild=this.moveToFirstVisibleChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}t.NavigationService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),i=(a.prototype.expand=function(e,t){this.changes.next({dataItem:t,index:e,expand:!0})},a.prototype.collapse=function(e,t){this.changes.next({dataItem:t,index:e,expand:!1})},n.__decorate([o.Injectable()],a));function a(){this.changes=new r.Subject}t.ExpandStateService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(4),a=i(5),s=i(2),d="http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/",i=(Object.defineProperty(c.prototype,"loadMoreNodes",{set:function(e){"string"!=typeof e&&(this.treeview.loadMoreService.loadMoreNodes=e)},enumerable:!0,configurable:!0}),c.prototype.ngOnChanges=function(){this.verifySettings()},c.prototype.verifySettings=function(){if(o.isDevMode()){if(!s.isPresent(this.pageSize))throw new Error("To use the TreeView `kendoTreeViewLoadMore` directive, you need to assign a `pageSize` value. See "+d+".");var e=this.treeview.loadMoreService.loadMoreNodes;if(s.isPresent(e)&&"function"!=typeof e)throw new Error("The passed value to the `kendoTreeViewLoadMore` directive must be a function that retrieves additional nodes. See "+d+".");if(s.isPresent(e)&&!s.isPresent(this.totalField))throw new Error("When a function to fetch additional nodes is provided to the `kendoTreeViewLoadMore` directive, the `totalField` and `totalRootNodes` values must also be provided. See "+d+".")}},c.prototype.getGroupSize=function(e){e=e||this.rootLevelId;return this.pageSizes.has(e)?this.pageSizes.get(e):this.pageSize},c.prototype.setGroupSize=function(e,t){e=e||this.rootLevelId;this.pageSizes.set(e,0<t?t:0)},c.prototype.getTotalNodesCount=function(e,t){return s.isPresent(e)&&s.isPresent(this.totalField)?e[this.totalField]:!s.isPresent(e)&&s.isPresent(this.totalRootNodes)?this.totalRootNodes:t},c.prototype.getInitalPageSize=function(){return this.pageSize},n.__decorate([o.Input("kendoTreeViewLoadMore"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],c.prototype,"loadMoreNodes",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],c.prototype,"pageSize",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],c.prototype,"totalRootNodes",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],c.prototype,"totalField",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewLoadMore]"}),n.__metadata("design:paramtypes",[a.TreeViewComponent])],c));function c(e){this.treeview=e,this.pageSizes=new Map,this.rootLevelId=r.guid(),this.treeview.loadMoreService={getInitialPageSize:this.getInitalPageSize.bind(this),getGroupSize:this.getGroupSize.bind(this),setGroupSize:this.setGroupSize.bind(this),getTotalNodesCount:this.getTotalNodesCount.bind(this)}}t.LoadMoreDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),a=i(5),s=i(2),i=(Object.defineProperty(d.prototype,"editService",{set:function(e){this.treeview.editService=e},enumerable:!0,configurable:!0}),d.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},d.prototype.handleAdd=function(e){if(!s.isPresent(this.treeview.editService))throw new Error("No `editService` provided. Either provide your own implementation or use this directive in combination with one of the data binding directives (`kendoTreeViewHierarchyBinding` or `kendoTreeViewFlatDataBinding`).");this.treeview.editService.add(e)},d.prototype.handleRemove=function(e){if(!s.isPresent(this.treeview.editService))throw new Error("No `editService` provided. Either provide your own implementation or use this directive in combination with one of the data binding directives (`kendoTreeViewHierarchyBinding` or `kendoTreeViewFlatDataBinding`).");this.treeview.editService.remove(e)},n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],d.prototype,"editService",null),n.__decorate([o.Directive({selector:"[kendoTreeViewDragAndDropEditing]"}),n.__metadata("design:paramtypes",[a.TreeViewComponent])],d));function d(e){this.treeview=e,this.subscriptions=new r.Subscription,this.subscriptions.add(this.treeview.addItem.subscribe(this.handleAdd.bind(this))),this.subscriptions.add(this.treeview.removeItem.subscribe(this.handleRemove.bind(this)))}t.DragAndDropEditingDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function d(t,e,i){return e.filter(function(e){return t(e)===i})}function c(e,n,o,r,a,s){return void 0===a&&(a=null),void 0===s&&(s=""),h.isArrayWithAtLeastOneItem(e)?e.map(function(e,t){var t=g.nodeIndex(t.toString(),s),i={dataItem:e,index:t,parent:a,visible:!0};return i.children=c(d(l.getter(o),n||[],l.getter(r)(e)),n,o,r,i,t),i}):[]}var n,o=i(0),r=i(4),a=i(1),l=i(8),s=i(3),p=i(52),u=i(14),h=i(2),m=i(51),f=i(9),i=i(33),g=new f.IndexBuilderService,f=(n=i.FilteringBase,o.__extends(v,n),Object.defineProperty(v.prototype,"nodes",{set:function(e){this.originalData=e||[],h.isNullOrEmptyString(this.parentIdField)?this.component.nodes=this.originalData.slice(0):(e=l.getter(this.parentIdField),this.component.nodes=this.originalData.filter(p.compose(h.isBlank,e)),this.filterData=c(this.component.nodes,this.originalData,this.parentIdField,this.idField),this.updateVisibleNodes(this.filterData))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{set:function(e){this.component.isVisible=e},enumerable:!0,configurable:!0}),v.prototype.ngOnInit=function(){var t,i=this;h.isPresent(this.parentIdField)&&h.isPresent(this.idField)&&(t=function(e){return d(l.getter(i.parentIdField),i.originalData||[],l.getter(i.idField)(e))},this.component.hasChildren=function(e){return 0<t(e).length},this.component.children=function(e){return s.of(t(e))},this.component.editService=new m.FlatEditingService(this),this.component.filterChange.subscribe(this.handleFilterChange.bind(this)),this.component.filter&&this.handleFilterChange(this.component.filter),!this.loadOnDemand&&h.isPresent(this.component.preloadChildNodes)&&this.component.preloadChildNodes())},v.prototype.ngOnChanges=function(e){r.isChanged("parentIdField",e,!1)&&(this.nodes=this.originalData),r.anyChanged(["nodes","loadOnDemand"],e)&&!this.loadOnDemand&&h.isPresent(this.component.preloadChildNodes)&&this.component.preloadChildNodes()},o.__decorate([a.Input(),o.__metadata("design:type",Array),o.__metadata("design:paramtypes",[Array])],v.prototype,"nodes",null),o.__decorate([a.Input(),o.__metadata("design:type",String)],v.prototype,"parentIdField",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],v.prototype,"idField",void 0),o.__decorate([a.Input(),o.__metadata("design:type",Boolean)],v.prototype,"loadOnDemand",void 0),o.__decorate([a.Input(),o.__metadata("design:type",Function),o.__metadata("design:paramtypes",[Function])],v.prototype,"isVisible",null),o.__decorate([a.Directive({selector:"[kendoTreeViewFlatDataBinding]"}),o.__metadata("design:paramtypes",[u.DataBoundComponent])],v));function v(e){var t=n.call(this,e)||this;return t.component=e,t.loadOnDemand=!0,t.originalData=[],t.component.isVisible=function(e){return t.visibleNodes.has(e)},t}t.FlatDataBindingDirective=f},function(e,t,i){"use strict";function n(){this.prevented=!1}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.preventDefault=function(){this.prevented=!0},n.prototype.isDefaultPrevented=function(){return this.prevented},t.PreventableEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,n,o,r){return void 0===o&&(o=null),void 0===r&&(r=""),l.isArrayWithAtLeastOneItem(e)?e.map(function(e,t){var t=g.nodeIndex(t.toString(),r),i={dataItem:e,index:t,parent:o,visible:!0};return i.children=a(s.getter(n)(e),n,i,t),i}):[]}var n,o=i(0),r=i(1),s=i(8),d=i(4),c=i(14),l=i(2),p=i(3),u=i(59),h=i(12),m=i(32),f=i(9),i=i(33),g=new f.IndexBuilderService,f=(n=i.FilteringBase,o.__extends(v,n),Object.defineProperty(v.prototype,"childrenField",{get:function(){return this._childrenField},set:function(e){if(!e)throw new Error("'childrenField' cannot be empty");this._childrenField=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodes",{set:function(e){this.originalData=e||[],this.filterData=a(e,this.childrenField)||[],this.updateVisibleNodes(this.filterData)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{set:function(e){this.component.isVisible=e},enumerable:!0,configurable:!0}),v.prototype.ngOnInit=function(){var t=this;l.isPresent(this.childrenField)&&(this.component.children=function(e){return p.of(s.getter(t.childrenField)(e))},this.component.hasChildren=function(e){e=s.getter(t.childrenField)(e);return Boolean(e&&e.length)},this.component.editService=new u.HierarchyEditingService(this),this.component.filterChange.subscribe(this.handleFilterChange.bind(this)),this.component.filter&&this.handleFilterChange(this.component.filter),!this.loadOnDemand&&l.isPresent(this.component.preloadChildNodes)&&this.component.preloadChildNodes())},v.prototype.ngOnChanges=function(e){d.isChanged("childrenField",e,!1)&&(this.nodes=this.originalData),d.anyChanged(["nodes","loadOnDemand"],e)&&!this.loadOnDemand&&l.isPresent(this.component.preloadChildNodes)&&this.component.preloadChildNodes()},o.__decorate([r.Input(),o.__metadata("design:type",String),o.__metadata("design:paramtypes",[String])],v.prototype,"childrenField",null),o.__decorate([r.Input(),o.__metadata("design:type",Array),o.__metadata("design:paramtypes",[Array])],v.prototype,"nodes",null),o.__decorate([r.Input(),o.__metadata("design:type",Function),o.__metadata("design:paramtypes",[Function])],v.prototype,"isVisible",null),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],v.prototype,"loadOnDemand",void 0),o.__decorate([r.Directive({selector:"[kendoTreeViewHierarchyBinding]"}),o.__param(1,r.Optional()),o.__param(1,r.Host()),o.__metadata("design:paramtypes",[c.DataBoundComponent,h.DragAndDropDirective])],v));function v(e,t){var i=n.call(this,e)||this,e=(i.component=e,i.dragAndDropDirective=t,i.loadOnDemand=!0,i.originalData=[],!l.isPresent(i.dragAndDropDirective));return i.component.isVisible=e?function(e){return i.visibleNodes.has(e)}:m.isVisible,i}t.HierarchyBindingDirective=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(5),a=i(2),s=i(3),d=i(4),i=(Object.defineProperty(c.prototype,"isSelected",{set:function(e){this.treeView.isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"getAriaMultiselectable",{get:function(){return"multiple"===this.options.mode},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"options",{get:function(){var e={enabled:!0,mode:"single"};if(!a.isPresent(this.selection)||"string"==typeof this.selection)return e;var t=a.isBoolean(this.selection)?{enabled:this.selection}:this.selection;return Object.assign(e,t)},enumerable:!0,configurable:!0}),c.prototype.ngOnChanges=function(e){d.isChanged("selectedKeys",e,!1)&&e.selectedKeys.currentValue!==this.lastChange&&(this.state=new Set(e.selectedKeys.currentValue))},c.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},c.prototype.itemKey=function(e){return this.selectKey?"string"==typeof this.selectKey?e.dataItem[this.selectKey]:"function"==typeof this.selectKey?this.selectKey(e):void 0:e.index},c.prototype.select=function(e){var t=this.options,i=t.enabled,t=t.mode,t=this.selectActions[t]||a.noop;i&&t(e)},c.prototype.selectSingle=function(e){e=this.itemKey(e);this.state.has(e)||(this.state.clear(),this.state.add(e),this.notify())},c.prototype.selectMultiple=function(e){var e=this.itemKey(e),t=this.state.has(e);a.isPresent(e)&&(t?this.state.delete(e):this.state.add(e),this.notify())},c.prototype.notify=function(){this.lastChange=Array.from(this.state),this.selectedKeysChange.emit(this.lastChange)},n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],c.prototype,"isSelected",null),n.__decorate([o.Input("selectBy"),n.__metadata("design:type",Object)],c.prototype,"selectKey",void 0),n.__decorate([o.Input("kendoTreeViewSelectable"),n.__metadata("design:type",Object)],c.prototype,"selection",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],c.prototype,"selectedKeys",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],c.prototype,"selectedKeysChange",void 0),n.__decorate([o.HostBinding("attr.aria-multiselectable"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],c.prototype,"getAriaMultiselectable",null),n.__decorate([o.Directive({selector:"[kendoTreeViewSelectable]"}),n.__metadata("design:paramtypes",[r.TreeViewComponent])],c));function c(e){var i=this;this.treeView=e,this.selectedKeysChange=new o.EventEmitter,this.subscriptions=new s.Subscription,this.selectActions={multiple:function(e){return i.selectMultiple(e)},single:function(e){return i.selectSingle(e)}},this.state=new Set,this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this))),this.treeView.isSelected=function(e,t){return i.state.has(i.itemKey({dataItem:e,index:t}))}}t.SelectDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),r=i(1),n=i(30),a=i(3),s=i(6),d=i(2),c=i(4),l={maxAutoExpandResults:-1,expandMatches:!1,expandedOnClear:"none"},i=(Object.defineProperty(p.prototype,"isExpanded",{set:function(e){this.component.isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"filterExpandSettings",{get:function(){var e=d.isBoolean(this.expandOnFilter)?{enabled:this.expandOnFilter}:o.__assign({},this.expandOnFilter,{enabled:!0});return Object.assign({},l,e)},enumerable:!0,configurable:!0}),p.prototype.ngOnChanges=function(e){c.isChanged("expandedKeys",e,!1)&&e.expandedKeys.currentValue!==this.lastChange&&(this.state=new Set(e.expandedKeys.currentValue))},p.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},p.prototype.itemKey=function(e){if(this.expandKey){if("string"==typeof this.expandKey)return e.dataItem[this.expandKey];if("function"==typeof this.expandKey)return this.expandKey(e)}return e.index},p.prototype.toggleExpand=function(e){var t=e.index,i=e.dataItem,e=e.expand,t=this.itemKey({index:t,dataItem:i}),i=this.state.has(t),n=!1;i&&!e?(this.state.delete(t),n=!0):!i&&e&&(this.state.add(t),n=!0),n&&this.notify()},p.prototype.handleAutoExpand=function(e){var i=this,t=e.nodes,n=e.matchCount,e=e.term;if(this.filterExpandSettings.enabled){var o=this.filterExpandSettings,r=o.maxAutoExpandResults,a=o.expandMatches,o=o.expandedOnClear;if(this.isFiltered||(this.originalExpandedKeys=new Set(this.state)),this.isFiltered&&!e||-1!==r&&r<n){switch(o){case"initial":d.sameValues(this.state,this.originalExpandedKeys)||(this.state=this.originalExpandedKeys,this.notify());break;case"all":this.state=new Set(t.reduce(function(e,t){return i.getEveryExpandKey(e,t),e},[])),this.notify();break;case"unchanged":break;default:0!==this.state.size&&(this.state.clear(),this.notify())}this.isFiltered=!1}else{e=new Set(t.reduce(function(e,t){return i.updateExpandedNodes(e,t,a),e},[]));d.sameValues(this.state,e)||(this.state=e,this.notify()),this.isFiltered=!0}}},p.prototype.notify=function(){this.lastChange=Array.from(this.state),this.expandedKeysChange.emit(this.lastChange)},o.__decorate([r.Input(),o.__metadata("design:type",Function),o.__metadata("design:paramtypes",[Function])],p.prototype,"isExpanded",null),o.__decorate([r.Input("expandBy"),o.__metadata("design:type",Object)],p.prototype,"expandKey",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],p.prototype,"expandOnFilter",void 0),o.__decorate([r.Output(),o.__metadata("design:type",r.EventEmitter)],p.prototype,"expandedKeysChange",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Array)],p.prototype,"expandedKeys",void 0),o.__decorate([r.Directive({selector:"[kendoTreeViewExpandable]"}),o.__metadata("design:paramtypes",[n.ExpandableComponent])],p));function p(e){var n=this;this.component=e,this.expandOnFilter=!1,this.expandedKeysChange=new r.EventEmitter,this.subscriptions=new a.Subscription,this.state=new Set,this.originalExpandedKeys=new Set,this.isFiltered=!1,this.updateExpandedNodes=function(t,e,i){(e.containsMatches||e.isMatch&&i&&d.isArrayWithAtLeastOneItem(e.children))&&t.push(n.itemKey({dataItem:e.dataItem,index:e.index})),d.isArrayWithAtLeastOneItem(e.children)&&e.children.forEach(function(e){n.updateExpandedNodes(t,e,i)})},this.getEveryExpandKey=function(t,e){d.isArrayWithAtLeastOneItem(e.children)&&t.push(n.itemKey({dataItem:e.dataItem,index:e.index})),d.isArrayWithAtLeastOneItem(e.children)&&e.children.forEach(function(e){n.getEveryExpandKey(t,e)})},this.subscriptions.add(a.merge(this.component.expand.pipe(s.map(function(e){return o.__assign({expand:!0},e)})),this.component.collapse.pipe(s.map(function(e){return o.__assign({expand:!1},e)}))).subscribe(this.toggleExpand.bind(this))),this.component.filterStateChange&&this.subscriptions.add(this.component.filterStateChange.subscribe(this.handleAutoExpand.bind(this))),this.component.isExpanded=function(e,t){return n.state.has(n.itemKey({dataItem:e,index:t}))}}t.ExpandDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),i=i(5),n=(Object.defineProperty(r.prototype,"isDisabled",{set:function(e){this.treeView.isDisabled=e},enumerable:!0,configurable:!0}),r.prototype.ngOnChanges=function(e){e=(e=void 0===e?{}:e).disabledKeys;e&&!e.firstChange&&this.cdr.markForCheck()},r.prototype.itemKey=function(e){return this.disableKey?"string"==typeof this.disableKey?e.dataItem[this.disableKey]:"function"==typeof this.disableKey?this.disableKey(e):void 0:e.index},n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],r.prototype,"isDisabled",null),n.__decorate([o.Input("kendoTreeViewDisable"),n.__metadata("design:type",Object)],r.prototype,"disableKey",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],r.prototype,"disabledKeys",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewDisable]"}),n.__metadata("design:paramtypes",[i.TreeViewComponent,o.ChangeDetectorRef])],r));function r(e,t){var i=this;this.treeView=e,this.cdr=t,this.disabledKeys=[],this.treeView.isDisabled=function(e,t){return-1<i.disabledKeys.indexOf(i.itemKey({dataItem:e,index:t}))}}t.DisableDirective=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(5),a=i(2),s=i(3),d=i(6),c=i(4),i=(Object.defineProperty(l.prototype,"isChecked",{set:function(e){this.treeView.isChecked=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){var e={checkChildren:!0,checkParents:!0,enabled:!0,mode:"multiple"};if(!a.isPresent(this.checkable)||"string"==typeof this.checkable)return e;var t=a.isBoolean(this.checkable)?{enabled:this.checkable}:this.checkable;return Object.assign(e,t)},enumerable:!0,configurable:!0}),l.prototype.ngOnChanges=function(e){e.checkable&&(this.treeView.checkboxes=this.options.enabled,this.toggleCheckOnClick()),c.isChanged("checkedKeys",e,!1)&&e.checkedKeys.currentValue!==this.lastChange&&(this.state=new Set(e.checkedKeys.currentValue))},l.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.unsubscribeClick()},l.prototype.isItemChecked=function(e,t){return this.checkKey?this.state.has(this.itemKey({dataItem:e,index:t}))?"checked":"none":this.isIndexChecked(t)},l.prototype.isIndexChecked=function(e){var n,t,i=Array.from(this.state).filter((n=e,function(e){return n===e||!!e.split&&e.split("_").reduce(function(e,t){var i=e.key,e=e.result;return n===(i+=t)||e?{result:!0}:{key:i+="_",result:!1}},{key:"",result:!1}).result}));if(t=e,0<i.filter(function(e){return e===t}).length)return"checked";var e=this.options,o=e.mode,e=e.checkParents;return"multiple"===o&&e&&i.length?"indeterminate":"none"},l.prototype.itemKey=function(e){return a.isPresent(this.checkKey)?"string"==typeof this.checkKey&&a.isPresent(e.dataItem)?e.dataItem[this.checkKey]:"function"==typeof this.checkKey?this.checkKey(e):void 0:e.index},l.prototype.check=function(e){var t=this.options,i=t.enabled,t=t.mode,t=this.checkActions[t]||a.noop;i&&t(e)},l.prototype.checkSingle=function(e){var e=this.itemKey(e.item),t=this.state.has(e);this.state.clear(),t||this.state.add(e),this.notify()},l.prototype.checkMultiple=function(e){this.checkNode(e),this.options.checkParents&&this.checkParents(e.parent),this.notify()},l.prototype.toggleCheckOnClick=function(){var t=this;this.unsubscribeClick(),this.options.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.subscribe(function(e){"click"===e.type&&(e=t.treeView.itemLookup(e.item.index),t.check(e))}))},l.prototype.unsubscribeClick=function(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)},l.prototype.checkNode=function(e){var t,i,n,o=this;a.isPresent(e.item.dataItem)&&!this.treeView.isDisabled(e.item.dataItem,e.item.index)&&(t=this.itemKey(e.item),a.isPresent(t)&&(i=[t],this.options.checkChildren&&(e=a.fetchLoadedDescendants(e,function(e){e=e.item;return o.treeView.isVisible(e.dataItem,e.index)&&!o.treeView.isDisabled(e.dataItem,e.index)}).map(function(e){e=e.item;return o.itemKey(e)}),i.push.apply(i,e)),n=!this.state.has(t),i.forEach(function(e){n?o.state.add(e):o.state.delete(e)})))},l.prototype.checkParents=function(e){var t=this;if(a.isPresent(e))for(var i=e;i;){var n=this.itemKey(i.item);i.children.every(function(e){return t.state.has(t.itemKey(e))})?this.state.add(n):this.state.delete(n),i=i.parent}},l.prototype.notify=function(){this.lastChange=Array.from(this.state),this.checkedKeysChange.emit(this.lastChange)},l.prototype.addCheckedItemsChildren=function(e){var t,i=this;a.isPresent(e)&&0!==e.length&&(t=this.state.size,e.forEach(function(t){var e=i.itemKey(t.item);i.state.has(e)&&t.children.forEach(function(e){i.treeView.isDisabled(t.item.dataItem,t.item.index)||i.treeView.isDisabled(e.dataItem,e.index)||i.state.add(i.itemKey(e))})}),t!==this.state.size&&this.zone.run(function(){return i.notify()}))},n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],l.prototype,"isChecked",null),n.__decorate([o.Input("checkBy"),n.__metadata("design:type",Object)],l.prototype,"checkKey",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],l.prototype,"checkedKeys",void 0),n.__decorate([o.Input("kendoTreeViewCheckable"),n.__metadata("design:type",Object)],l.prototype,"checkable",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],l.prototype,"checkedKeysChange",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewCheckable]"}),n.__metadata("design:paramtypes",[r.TreeViewComponent,o.NgZone])],l));function l(e,t){var i=this,n=(this.treeView=e,this.zone=t,this.checkedKeysChange=new o.EventEmitter,this.subscriptions=new s.Subscription,this.checkActions={multiple:function(e){return i.checkMultiple(e)},single:function(e){return i.checkSingle(e)}},this.state=new Set,this.subscriptions.add(this.treeView.checkedChange.subscribe(function(e){return i.check(e)})),[]);this.subscriptions.add(this.treeView.childrenLoaded.pipe(d.filter(function(){return i.options.checkChildren&&i.treeView.loadOnDemand}),d.tap(function(e){return n.push(e)}),d.switchMap(function(){return i.zone.onStable.pipe(d.take(1))})).subscribe(function(){return i.addCheckedItemsChildren(n)})),this.treeView.isChecked=this.isItemChecked.bind(this)}t.CheckDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(2),a=/\d+$/,i=(s.prototype.reset=function(){this.map.clear()},s.prototype.registerItem=function(e,t){t={children:[],item:e,parent:this.item(r.nodeIndex(t))};this.map.set(e.index,t)},s.prototype.registerChildren=function(e,t){e=this.item(e);e&&(e.children=t)},s.prototype.unregisterItem=function(e,t){var i=this.item(e);i&&i.item.dataItem===t&&(this.map.delete(e),i.parent&&i.parent.children&&(i.parent.children=i.parent.children.filter(function(e){return e.dataItem!==t})))},s.prototype.replaceItem=function(e,t,i){t&&(this.unregisterItem(e,t.dataItem),this.registerItem(t,i),this.addToParent(t,i))},s.prototype.itemLookup=function(e){e=this.item(e);return e?{children:this.mapChildren(e.children),item:e.item,parent:e.parent}:null},s.prototype.hasItem=function(e){return this.map.has(e)},s.prototype.item=function(e){return this.map.get(e)||null},s.prototype.addToParent=function(e,t){var i;t&&(t=this.item(t.index),i=parseInt(a.exec(e.index)[0],10),t.children=t.children||[],t.children.splice(i,0,e))},s.prototype.mapChildren=function(e){var n=this;return(e=void 0===e?[]:e).map(function(e){var e=n.item(e.index),t=e.item,i=e.parent,e=e.children;return{children:n.mapChildren(e),item:t,parent:i}})},n.__decorate([o.Injectable()],s));function s(){this.map=new Map}t.TreeViewLookupService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),i=(a.prototype.isFirstSelected=function(e){return this.firstIndex===e},a.prototype.setFirstSelected=function(e,t){this.firstIndex===e&&!1===t?this.firstIndex=null:!this.firstIndex&&t&&(this.firstIndex=e)},a.prototype.select=function(e,t){this.changes.next({dataItem:t,index:e})},n.__decorate([o.Injectable()],a));function a(){this.changes=new r.Subject}t.SelectionService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=n.__decorate([i.Injectable()],o);function o(){}t.ExpandableComponent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),i=(a.prototype.notifyLoaded=function(e){this.changes.next(e)},n.__decorate([o.Injectable()],a));function a(){this.changes=new r.Subject}t.LoadingNotificationService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=function(){return!1},t.isChecked=function(){return"none"},t.isDisabled=function(){return!1},t.isExpanded=function(){return!0},t.isSelected=function(){return!1},t.isVisible=function(){return!0},t.trackBy=function(e,t){return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(54),a=i(2);function s(e){this.component=e,this.visibleNodes=new Set,this._filterSettings=r.DEFAULT_FILTER_SETTINGS}Object.defineProperty(s.prototype,"filterSettings",{get:function(){return this._filterSettings},set:function(e){this._filterSettings=n.__assign({},r.DEFAULT_FILTER_SETTINGS,e)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filter",{set:function(e){this.handleFilterChange(e)},enumerable:!0,configurable:!0}),s.prototype.handleFilterChange=function(e){this.filterData&&(this.resetNodesVisibility(this.filterData),e&&a.filterTree(this.filterData,e,this.filterSettings,this.component.textField),this.updateVisibleNodes(this.filterData),a.isPresent(this.component.filterStateChange)&&this.component.filterStateChange.emit({nodes:this.filterData,matchCount:this.visibleNodes.size,term:e,filterSettings:this.filterSettings}))},s.prototype.updateVisibleNodes=function(e){var t=this;e.forEach(function(e){e.visible&&t.visibleNodes.add(e.dataItem),e.children&&t.updateVisibleNodes(e.children)})},s.prototype.resetNodesVisibility=function(e){var t=this;this.visibleNodes.clear(),e.forEach(function(e){e.visible=!0,e.children&&t.resetNodesVisibility(e.children)})},n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],s.prototype,"filterSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],s.prototype,"filter",null),t.FilteringBase=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=(o.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},n.__decorate([i.HostBinding("class.k-drop-hint-container"),n.__metadata("design:type",Boolean)],o.prototype,"hostClass",void 0),n.__decorate([i.HostBinding("style.position"),n.__metadata("design:type",String)],o.prototype,"position",void 0),n.__decorate([i.HostBinding("style.pointer-events"),n.__metadata("design:type",String)],o.prototype,"pointerEvents",void 0),n.__decorate([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"kendo-treeview-drop-hint",template:'\n        <div\n            *ngIf="!template"\n            class="k-drop-hint k-drop-hint-h"\n        >\n            <div class=\'k-drop-hint-start\'></div>\n            <div class=\'k-drop-hint-line\'></div>\n        </div>\n\n        <ng-template\n            *ngIf="template"\n            [ngTemplateOutlet]="template"\n            [ngTemplateOutletContext]="{\n                action: action,\n                sourceItem: sourceItem,\n                destinationItem: destinationItem\n            }"\n        >\n        <ng-template>\n    '}),n.__metadata("design:paramtypes",[i.ChangeDetectorRef])],o));function o(e){this.changeDetectorRef=e,this.hostClass=!0,this.position="fixed",this.pointerEvents="none"}t.DropHintComponent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);function o(){}Object.defineProperty(o.prototype,"componentRef",{get:function(){if(n.isPresent(this._componentRef))return this._componentRef;throw new Error("The `initalize` method must be called before calling other service methods.")},set:function(e){this._componentRef=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"element",{get:function(){return this.componentRef.location.nativeElement},enumerable:!0,configurable:!0}),o.prototype.ngOnDestroy=function(){n.isPresent(this._componentRef)&&(this.element.parentElement.removeChild(this.element),this.componentRef.destroy(),this.componentRef=null)},o.prototype.show=function(){this.element.style.display=""},o.prototype.hide=function(){this.element.style.display="none"},o.prototype.move=function(e,t,i){this.element.style.left=e+(i=void 0===i?0:i)+"px",this.element.style.top=t+i+"px"},t.DragAndDropAssetService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(7),i=(Object.defineProperty(a.prototype,"statusIconClass",{get:function(){switch(this.action){case r.DropAction.Add:return"k-i-plus";case r.DropAction.InsertTop:return"k-i-insert-up";case r.DropAction.InsertBottom:return"k-i-insert-down";case r.DropAction.InsertMiddle:return"k-i-insert-middle";default:r.DropAction.Invalid;return"k-i-cancel"}},enumerable:!0,configurable:!0}),a.prototype.detectChanges=function(){this.cdr.detectChanges()},n.__decorate([o.HostBinding("class.k-header"),o.HostBinding("class.k-drag-clue"),n.__metadata("design:type",Boolean)],a.prototype,"hostClasses",void 0),n.__decorate([o.HostBinding("style.position"),n.__metadata("design:type",String)],a.prototype,"posistionStyle",void 0),n.__decorate([o.Component({changeDetection:o.ChangeDetectionStrategy.OnPush,selector:"kendo-treeview-drag-clue",template:'\n        <ng-container *ngIf="!template">\n            <span class="k-icon {{statusIconClass}} k-drag-status"></span>\n            <span>{{text}}</span>\n        </ng-container>\n\n        <ng-template\n            *ngIf="template"\n            [ngTemplateOutlet]="template"\n            [ngTemplateOutletContext]="{\n                text: text,\n                action: action,\n                sourceItem: sourceItem,\n                destinationItem: destinationItem\n            }"\n        >\n        </ng-template>\n    '}),n.__metadata("design:paramtypes",[o.ChangeDetectorRef])],a));function a(e){this.cdr=e,this.hostClasses=!0,this.posistionStyle="fixed"}t.DragClueComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);t.copyPageSize=function(e,t,i){n.isPresent(e.loadMoreService)&&(t=e.getNodePageSize(t),e.setNodePageSize(i,t))},t.incrementPageSize=function(e,t){var i;n.isPresent(e.loadMoreService)&&(i=e.getNodePageSize(t),e.setNodePageSize(t,i+1))},t.decrementPageSize=function(e,t){var i;n.isPresent(e.loadMoreService)&&(i=e.getNodePageSize(t),e.setNodePageSize(t,i-1))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemDragEvent=function(){}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),i=(n=i(22).PreventableEvent,o.__extends(r,n),r);function r(e){var t=n.call(this)||this;return Object.assign(t,e),t}t.TreeItemDragStartEvent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),i=(n=i(22).PreventableEvent,o.__extends(r,n),r.prototype.setValid=function(e){this.isValid=e},r);function r(e,t){var i=n.call(this)||this;return i.isValid=!0,Object.assign(i,e),i.originalEvent=t,i}t.TreeItemDropEvent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DropPosition||(t.DropPosition={}))[t.Over=0]="Over",t[t.Before=1]="Before",t[t.After=2]="After"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DropAction||(t.DropAction={}))[t.Add=0]="Add",t[t.InsertTop=1]="InsertTop",t[t.InsertBottom=2]="InsertBottom",t[t.InsertMiddle=3]="InsertMiddle",t[t.Invalid=4]="Invalid"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(3),i=(a.prototype.childrenLoaded=function(e,t){this.changes.next({item:e,children:t})},n.__decorate([o.Injectable()],a));function a(){this.changes=new r.Subject}t.NodeChildrenService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1);function o(){this.changes=new n.EventEmitter}o.prototype.notify=function(){this.changes.emit()},t.DataChangeNotificationService=o},function(e,t){e.exports=c},function(e,t){e.exports=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(4),a=i(2),i=(Object.defineProperty(s.prototype,"classWrapper",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"indeterminate",{get:function(){return"indeterminate"===this.checkState},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checked",{get:function(){return"checked"===this.checkState},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkBoxClasses",{get:function(){return"k-checkbox "+(this.size?a.getSizeClass("checkbox",this.size):"")+" k-rounded-md"},enumerable:!0,configurable:!0}),s.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")},s.prototype.ngDoCheck=function(){this.checkState=this.isChecked(this.node,this.index)},s.prototype.handleChange=function(e){e=e.target.checked?"checked":"none";this.checkState=e,this.changeDetector.detectChanges(),this.checkStateChange.emit(e)},n.__decorate([o.HostBinding("class.k-checkbox-wrapper"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],s.prototype,"classWrapper",null),n.__decorate([o.Input(),n.__metadata("design:type",String)],s.prototype,"id",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],s.prototype,"isChecked",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],s.prototype,"node",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],s.prototype,"index",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],s.prototype,"labelText",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],s.prototype,"tabindex",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],s.prototype,"size",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],s.prototype,"checkStateChange",void 0),n.__decorate([o.Component({selector:"kendo-checkbox",template:'\n        <input\n            type="checkbox"\n            [class]="checkBoxClasses"\n            [id]="id"\n            [checked]="checked"\n            [indeterminate]="indeterminate"\n            [tabindex]="tabindex"\n            (change)="handleChange($event)"\n        />\n        <label\n            class="k-checkbox-label"\n            tabindex="-1"\n            [for]="id"\n        >{{labelText}}</label>\n    '}),n.__metadata("design:paramtypes",[o.ElementRef,o.Renderer2,o.ChangeDetectorRef])],s));function s(e,t,i){this.element=e,this.renderer=t,this.changeDetector=i,this.id="_"+r.guid(),this.tabindex=0,this.size="medium",this.checkStateChange=new o.EventEmitter,this.checkState="none"}t.CheckBoxComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),i=[i(47).CheckBoxComponent],n=n.__decorate([o.NgModule({declarations:[i],exports:[i]})],r);function r(){}t.CheckBoxModule=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(17),a=i(29),s=i(32),d=i(3),c=i(6),i=(l.prototype.ngOnChanges=function(e){e.initialSelection&&this.updateSelectionClass(this.initialSelection),e.index&&this.updateFocusClass()},l.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},l.prototype.updateFocusClass=function(){this.render(this.navigationService.isActive(this.index),"k-focus")},l.prototype.updateSelectionClass=function(e){this.render(e,"k-selected")},l.prototype.render=function(e,t){this.renderer[e?"addClass":"removeClass"](this.element.nativeElement,t)},n.__decorate([o.Input(),n.__metadata("design:type",Object)],l.prototype,"dataItem",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],l.prototype,"index",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],l.prototype,"initialSelection",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],l.prototype,"isSelected",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewItemContent]"}),n.__metadata("design:paramtypes",[o.ElementRef,r.NavigationService,a.SelectionService,o.Renderer2])],l));function l(e,t,i,n){var o=this;this.element=e,this.navigationService=t,this.selectionService=i,this.renderer=n,this.initialSelection=!1,this.isSelected=s.isSelected,this.subscriptions=new d.Subscription,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateFocusClass.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe(c.filter(function(e){return e===o.index})).subscribe(function(e){return o.selectionService.select(e,o.dataItem)})),this.subscriptions.add(this.selectionService.changes.subscribe(function(){o.updateSelectionClass(o.isSelected(o.dataItem,o.index))}))}t.TreeViewItemContentDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){return{dataItem:t,index:e}}var o=i(0),r=i(1),a=i(4),s=i(17),d=i(29),c=i(18),l=i(9),p=i(28),u=i(2),h=i(6),m=0,i=(Object.defineProperty(f.prototype,"isChecked",{set:function(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isExpanded",{get:function(){return this._isExpanded||!1},set:function(e){this._isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isSelected",{get:function(){return this._isSelected||!1},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isButton",{get:function(){return"button"===this.role},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"treeItem",{get:function(){return n(this.index,this.dataItem)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"parentTreeItem",{get:function(){return this.parentDataItem?n(this.parentIndex,this.parentDataItem):null},enumerable:!0,configurable:!0}),f.prototype.ngOnInit=function(){this.loadOnDemand&&!this.isButton&&this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.setDisabledClass(),this.updateTabIndex()},f.prototype.ngOnChanges=function(e){var t=e.index,i=e.isDisabled;a.anyChanged(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],e)&&this.setAriaAttributes(),i&&this.setDisabledClass(),this.loadOnDemand&&!this.isButton&&this.moveLookupItem(e),this.moveNavigationItem(t),a.anyChanged(["isDisabled","isVisible"],e)&&this.updateNodeAvailability()},f.prototype.ngOnDestroy=function(){this.navigationService.unregisterItem(this.id,this.index),this.loadOnDemand&&!this.isButton&&this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce(function(e,t){return t.unsubscribe(),e},[])},f.prototype.subscribe=function(){var t=this;this.subscriptions=[this.navigationService.moves.subscribe(function(e){t.updateTabIndex(),t.focusItem(e.shouldScroll)}),this.navigationService.expands.pipe(h.filter(function(e){return e.index===t.index&&!t.isDisabled})).subscribe(function(e){e=e.expand;return t.expand(e)})]},f.prototype.registerNavigationItem=function(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible),this.activateItem()},f.prototype.activateItem=function(){var e,t,i;this.isDisabled||(e=this.navigationService,t=this.selectionService,i=this.index,t.setFirstSelected(i,this.isSelected),!e.isActive(i)&&t.isFirstSelected(i)&&e.activateIndex(i))},f.prototype.expand=function(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)},f.prototype.isFocusable=function(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)},f.prototype.focusItem=function(e){void 0===e&&(e=!1),this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus({preventScroll:!e})},f.prototype.moveLookupItem=function(e){var t=(e=void 0===e?{}:e).dataItem,i=e.index,n=e.parentDataItem,e=e.parentIndex;i&&i.firstChange||!(t||i||n||e)||(t=(i||{}).previousValue||this.index,this.lookupService.replaceItem(t,this.treeItem,this.parentTreeItem))},f.prototype.moveNavigationItem=function(e){var t=(e=void 0===e?{}:e).currentValue,i=e.firstChange,e=e.previousValue;!i&&u.isPresent(t)&&u.isPresent(e)&&(this.navigationService.unregisterItem(this.id,e),this.navigationService.registerItem(this.id,t,this.isDisabled,this.isButton))},f.prototype.updateNodeAvailability=function(){var e=this.navigationService;this.isDisabled||!this.isVisible?e.activateClosest(this.index):e.activateFocusable(),e.unregisterItem(this.id,this.index),e.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible)},f.prototype.setAriaAttributes=function(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)},f.prototype.setDisabledClass=function(){this.setClass("k-disabled",this.isDisabled)},f.prototype.setClass=function(e,t){this.renderer[t?"addClass":"removeClass"](this.element.nativeElement,e)},f.prototype.updateTabIndex=function(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")},f.prototype.setAttribute=function(e,t){u.isPresent(t)?this.renderer.setAttribute(this.element.nativeElement,e,t):this.renderer.removeAttribute(this.element.nativeElement,e)},o.__decorate([r.Input(),o.__metadata("design:type",Object)],f.prototype,"dataItem",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],f.prototype,"index",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],f.prototype,"parentDataItem",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],f.prototype,"parentIndex",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],f.prototype,"role",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"loadOnDemand",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"checkable",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"selectable",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"expandable",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String),o.__metadata("design:paramtypes",[String])],f.prototype,"isChecked",null),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"isDisabled",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],f.prototype,"isVisible",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean),o.__metadata("design:paramtypes",[Boolean])],f.prototype,"isExpanded",null),o.__decorate([r.Input(),o.__metadata("design:type",Boolean),o.__metadata("design:paramtypes",[Boolean])],f.prototype,"isSelected",null),o.__decorate([r.Directive({selector:"[kendoTreeViewItem]"}),o.__metadata("design:paramtypes",[r.ElementRef,c.ExpandStateService,s.NavigationService,d.SelectionService,p.TreeViewLookupService,r.Renderer2,l.IndexBuilderService])],f));function f(e,t,i,n,o,r,a){this.element=e,this.expandService=t,this.navigationService=i,this.selectionService=n,this.lookupService=o,this.renderer=r,this.ib=a,this.role="treeitem",this.loadOnDemand=!0,this.isDisabled=!1,this.isVisible=!0,this.ariaChecked="false",this.id=m++,this.isInitialized=!1,this.subscriptions=[],this.subscribe()}t.TreeViewItemDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i(8),n=i(6),l=i(7),p=i(13),u=i(37),h=i(2);function o(e){this.flatBinding=e}o.prototype.add=function(e){var t,i,n=e.sourceItem,o=e.destinationItem,r=e.dropPosition,a=e.sourceTree,e=e.destinationTree,s=Object.assign({},h.getDataItem(n)),d=(r===l.DropPosition.Over?(p.expandDropTarget(o,e),t=c.getter(this.flatBinding.idField)(h.getDataItem(o)),c.setter(this.flatBinding.parentIdField)(s,t),t=this.getLastVisibleChildNodeIndex(e,this.flatBinding.originalData,h.getDataItem(o))+1,this.flatBinding.originalData.splice(t,0,s),this.rebindData(),i=this.fetchChildNodes(h.getDataItem(o),e).indexOf(s),this.movedItemNewIndex=h.buildTreeIndex(o.item.index,i)):(d=r===l.DropPosition.After?1:0,t=this.flatBinding.originalData.indexOf(h.getDataItem(o))+d,this.flatBinding.originalData.splice(t,0,s),d=c.getter(this.flatBinding.parentIdField)(h.getDataItem(o)),c.setter(this.flatBinding.parentIdField)(s,d),this.rebindData(),t=o.parent?o.parent.item.index:null,i=(o.parent?this.fetchChildNodes(h.getDataItem(o.parent),e):e.nodes).indexOf(s),this.movedItemNewIndex=h.buildTreeIndex(t,i)),a!==e&&this.addChildNodes(s,a),r===l.DropPosition.Over?h.getDataItem(o):h.getDataItem(o.parent));u.incrementPageSize(e,d),u.copyPageSize(e,h.getDataItem(n),s),a===e||e.loadOnDemand||e.preloadChildNodes(),a!==e&&(e.changeDetectorRef.detectChanges(),e.focus(this.movedItemNewIndex))},o.prototype.remove=function(e){var t=e.sourceItem,i=e.sourceTree,e=e.destinationTree,n=h.getDataItem(t),o=this.flatBinding.originalData.indexOf(n),o=(this.flatBinding.originalData.splice(o,1),i!==e&&this.removeChildNodes(n,i),this.rebindData(),t.parent?t.parent.children:[]);p.collapseEmptyParent(t.parent,o,i),u.decrementPageSize(i,h.getDataItem(t.parent)),i.loadOnDemand||i.preloadChildNodes(),i===e&&(e.changeDetectorRef.detectChanges(),n=p.updateMovedItemIndex(this.movedItemNewIndex,t.item.index),e.focus(n))},o.prototype.addChildNodes=function(e,t){e=this.fetchAllDescendantNodes(e,t);(t=this.flatBinding.originalData).push.apply(t,e)},o.prototype.removeChildNodes=function(e,t){var i=this;this.fetchAllDescendantNodes(e,t).forEach(function(e){e=i.flatBinding.originalData.indexOf(e);i.flatBinding.originalData.splice(e,1)})},o.prototype.fetchAllDescendantNodes=function(e,t){var i=this,n=this.fetchChildNodes(e,t);return n.forEach(function(e){return n=n.concat(i.fetchAllDescendantNodes(e,t)||[])}),n},o.prototype.fetchChildNodes=function(e,t){if(!e)return[];var i=[];return t.children(e).pipe(n.take(1)).subscribe(function(e){return i=i.concat(e||[])}),i},o.prototype.getLastVisibleChildNodeIndex=function(e,t,i){if(!h.isPresent(e.loadMoreService)||!e.hasChildren(i))return t.length;var n=e.loadMoreService.getGroupSize(i),i=this.fetchChildNodes(i,e).slice(0,n),e=i[i.length-1];return t.indexOf(e)},o.prototype.rebindData=function(){this.flatBinding.nodes=this.flatBinding.originalData},t.FlatEditingService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(18),a=i(31),s=i(3),d=i(6),i=(Object.defineProperty(c.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=e,this.cd.markForCheck()},enumerable:!0,configurable:!0}),c.prototype.ngOnInit=function(){var t=this,i=this.loadingService.changes.pipe(d.filter(function(e){return e===t.index}));this.subscription=this.expandService.changes.pipe(d.filter(function(e){return e.index===t.index}),d.tap(function(e){!e.expand&&t.loading&&(t.loading=!1)}),d.filter(function(e){return e.expand}),d.switchMap(function(e){return s.of(e).pipe(d.delay(100),d.takeUntil(i))})).subscribe(function(){return t.loading=!0}),this.subscription.add(i.subscribe(function(){return t.loading=!1}))},c.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.__decorate([o.HostBinding("class.k-i-loading"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],c.prototype,"loading",null),n.__decorate([o.Input("kendoTreeViewLoading"),n.__metadata("design:type",String)],c.prototype,"index",void 0),n.__decorate([o.Directive({selector:"[kendoTreeViewLoading]"}),n.__metadata("design:paramtypes",[r.ExpandStateService,a.LoadingNotificationService,o.ChangeDetectorRef])],c));function c(e,t,i){this.expandService=e,this.loadingService=t,this.cd=i,this._loading=!1}t.LoadingIndicatorDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILTER_SETTINGS={operator:"contains",ignoreCase:!0,mode:"lenient"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),r=i(1),a=i(2),s=i(34),i=(n=i(35).DragAndDropAssetService,o.__extends(d,n),d.prototype.initialize=function(e,t){a.isPresent(this._componentRef)&&this.ngOnDestroy();var i=this.componentFactoryResolver.resolveComponentFactory(s.DropHintComponent);this.componentRef=e.createComponent(i),this.hide(),this.componentRef.instance.template=t,this.componentRef.changeDetectorRef.detectChanges()},d.prototype.updateDropHintData=function(e,t,i){var n=this.componentRef.instance;e===n.action&&a.dataItemsEqual(t,n.sourceItem)&&a.dataItemsEqual(i,n.destinationItem)||(n.action=e,n.sourceItem=t,n.destinationItem=i,n.detectChanges())},o.__decorate([r.Injectable(),o.__metadata("design:paramtypes",[r.ComponentFactoryResolver])],d));function d(e){var t=n.call(this)||this;return t.componentFactoryResolver=e,t}t.DropHintService=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t(0),r=t(1),a=t(36),s=t(7),d=t(2),c=t(35),l=t(13),t=(n.CLUE_OFFSET=10,n.RETURN_ANIMATION_DURATION=200,i=c.DragAndDropAssetService,o.__extends(p,i),p.prototype.initialize=function(e,t){d.isPresent(this._componentRef)&&this.ngOnDestroy();var i=this.componentFactoryResolver.resolveComponentFactory(a.DragClueComponent);this.componentRef=e.createComponent(i),this.hide(),this.componentRef.instance.template=t,this.componentRef.changeDetectorRef.detectChanges()},p.prototype.ngOnDestroy=function(){this.cancelReturnAnimation(),this.cancelScroll(),i.prototype.ngOnDestroy.call(this)},p.prototype.move=function(e,t){i.prototype.move.call(this,e,t,n.CLUE_OFFSET)},p.prototype.animateDragClueToElementPosition=function(e){var t,i=this;d.isPresent(e)&&d.isPresent(this.element.animate)?(e=e.getBoundingClientRect(),t=this.element.getBoundingClientRect(),this.returnAnimation=this.element.animate([{transform:"translate(0, 0)"},{transform:"translate("+(e.left-t.left)+"px, "+(e.top-t.top)+"px)"}],n.RETURN_ANIMATION_DURATION),this.returnAnimation.onfinish=function(){return i.hide()}):this.hide()},p.prototype.cancelReturnAnimation=function(){d.isPresent(this.returnAnimation)&&(this.returnAnimation.cancel(),this.returnAnimation=null)},p.prototype.updateDragClueData=function(e,t,i){var n=this.componentRef.instance;e===n.action&&d.dataItemsEqual(t,n.sourceItem)&&d.dataItemsEqual(i,n.destinationItem)||(n.action=e,n.sourceItem=t,n.destinationItem=i,n.detectChanges())},p.prototype.updateText=function(e){e!==this.componentRef.instance.text&&(this.componentRef.instance.text=e,this.componentRef.instance.detectChanges())},p.prototype.scrollIntoView=function(e){var t,i,n,o,r=e.step,e=e.interval,a=(this.cancelScroll(),l.getScrollableContainer(this.element));d.isPresent(a)&&(t=a.getBoundingClientRect(),i=this.element.getBoundingClientRect(),n=(o=Math.max(t.top,0))+i.height,o=o+Math.min(t.bottom,a.clientHeight),i.top<n?this.scrollInterval=setInterval(function(){return l.scrollElementBy(a,r,s.ScrollDirection.Up)},e):i.bottom>o&&(this.scrollInterval=setInterval(function(){return l.scrollElementBy(a,r,s.ScrollDirection.Down)},e)))},p.prototype.cancelScroll=function(){d.isPresent(this.scrollInterval)&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},o.__decorate([r.Injectable(),o.__metadata("design:paramtypes",[r.ComponentFactoryResolver])],p));function p(e){var t=i.call(this)||this;return t.componentFactoryResolver=e,t}n.DragClueService=t},function(e,t){e.exports=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.ScrollDirection||(t.ScrollDirection={}))[t.Up=-1]="Up",t[t.Down=1]="Down"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i(8),l=i(7),p=i(13),u=i(37),h=i(2);function n(e){this.hierarchyBinding=e}n.prototype.add=function(e){var t,i,n=e.sourceItem,o=e.destinationItem,r=e.dropPosition,a=e.sourceTree,e=e.destinationTree,s=Object.assign({},h.getDataItem(n)),d=(r===l.DropPosition.Over?(p.expandDropTarget(o,e),d=this.childrenFor(h.getDataItem(o)),t=h.isPresent(e.loadMoreService)?Math.min(e.loadMoreService.getGroupSize(h.getDataItem(o)),d.length):d.length,d.splice(t,0,s),c.setter(this.hierarchyBinding.childrenField)(h.getDataItem(o),d),this.movedItemNewIndex=h.buildTreeIndex(o.item.index,t)):(d=this.getParentNodes(o,e),i=r===l.DropPosition.After?1:0,t=d.indexOf(h.getDataItem(o))+i,d.splice(t,0,s),i=o.parent?o.parent.item.index:null,this.movedItemNewIndex=h.buildTreeIndex(i,t)),r===l.DropPosition.Over?h.getDataItem(o):h.getDataItem(o.parent));u.incrementPageSize(e,d),u.copyPageSize(e,h.getDataItem(n),s),a===e||e.loadOnDemand||e.preloadChildNodes(),a!==e&&(e.changeDetectorRef.detectChanges(),e.focus(this.movedItemNewIndex))},n.prototype.remove=function(e){var t=e.sourceItem,i=e.sourceTree,e=e.destinationTree,n=this.getParentNodes(t,i),o=n.indexOf(h.getDataItem(t));n.splice(o,1),p.collapseEmptyParent(t.parent,n,i),u.decrementPageSize(i,h.getDataItem(t.parent)),i.loadOnDemand||i.preloadChildNodes(),i===e&&(e.changeDetectorRef.detectChanges(),o=p.updateMovedItemIndex(this.movedItemNewIndex,t.item.index),e.focus(o))},n.prototype.getParentNodes=function(e,t){return h.isPresent(e.parent)?this.childrenFor(h.getDataItem(e.parent)):t.nodes},n.prototype.childrenFor=function(e){return c.getter(this.hierarchyBinding.childrenField)(e)||[]},t.HierarchyEditingService=n},function(e,t){e.exports=f},function(e,t){e.exports=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(61),a=i(8),s=i(18),d=i(9),c=i(28),l=i(17),p=i(43),u=i(2),h=i(31),m=i(3),f=i(6),i=i(44),r=(Object.defineProperty(g.prototype,"moreNodesAvailable",{get:function(){return!(!u.isPresent(this.loadMoreService)||0===this.data.length)&&this.pageSize<this.totalNodesCount},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"pageSize",{get:function(){return u.isPresent(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null},set:function(e){this.loadMoreService.setGroupSize(this.parentDataItem,e)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"data",{get:function(){var e;return u.isPresent(this.pageSize)?(e=0<this.pageSize?this.pageSize:0,this._data.slice(0,e)):this._data},set:function(e){this._data=e,this.registerLoadedNodes(this.data)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"loadMoreButtonIndex",{get:function(){return this.loadMoreService?this.nodeIndex(this.data.length):null},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"totalNodesCount",{get:function(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"hasTemplate",{get:function(){return u.isPresent(this.nodeTemplateRef)},enumerable:!0,configurable:!0}),g.prototype.expandNode=function(e,t,i){i?this.expandService.expand(e,t):this.expandService.collapse(e,t)},g.prototype.checkNode=function(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)},g.prototype.nodeIndex=function(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)},g.prototype.nodeText=function(e){var t=u.isArray(this.textField)?this.textField[0]:this.textField;return a.getter(t)(e)},g.prototype.ngOnDestroy=function(){u.isPresent(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),u.isPresent(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe()},g.prototype.ngOnInit=function(){var t=this;this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe(f.filter(function(e){return e===t.loadMoreButtonIndex})).subscribe(this.loadMoreNodes.bind(this)))},g.prototype.ngOnChanges=function(e){e.parentIndex&&this.loadOnDemand&&this.setNodeChildren(this.mapToTreeItem(this.data))},g.prototype.fetchChildren=function(e,t){var i=this;return this.children(e).pipe(f.catchError(function(){return i.loadingService.notifyLoaded(t),m.EMPTY}),f.tap(function(){return i.loadingService.notifyLoaded(t)}))},Object.defineProperty(g.prototype,"nextFields",{get:function(){return u.isArray(this.textField)?1<this.textField.length?this.textField.slice(1):this.textField:[this.textField]},enumerable:!0,configurable:!0}),g.prototype.loadMoreNodes=function(){u.isPresent(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()},g.prototype.loadMoreLocalNodes=function(){var e=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(e)},g.prototype.fetchMoreNodes=function(){var i=this;this.loadingMoreNodes||(this.loadingMoreNodes=!0,u.isPresent(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe(f.finalize(function(){return i.loadingMoreNodes=!1})).subscribe(function(e){var t;Array.isArray(e)&&0<e.length&&(t=i.loadMoreButtonIndex,i.pageSize+=e.length,i.data=i.data.concat(e),i.navigationService.isActive(t)&&(i.changeDetectorRef.detectChanges(),i.reselectItemAt(t)))}))},g.prototype.setNodeChildren=function(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)},g.prototype.mapToTreeItem=function(e){var i=this;return this.parentIndex?e.map(function(e,t){return{dataItem:e,index:i.nodeIndex(t)}}):[]},g.prototype.emitChildrenLoaded=function(e){this.parentIndex&&(e=e.filter(function(e){return e.dataItem}),this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},e))},g.prototype.subscribeToNodesChange=function(){var t=this;this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(function(e){t.data=e,t.initialNodesLoaded=!0})},g.prototype.reselectItemAt=function(e){u.isPresent(e)&&(this.navigationService.deactivate(),this.navigationService.activateIndex(e))},g.prototype.registerLoadedNodes=function(e){e=this.mapToTreeItem(e=void 0===e?[]:e);this.loadOnDemand&&this.setNodeChildren(e),this.emitChildrenLoaded(e)},n.__decorate([o.HostBinding("class.k-treeview-group"),n.__metadata("design:type",Boolean)],g.prototype,"kGroupClass",void 0),n.__decorate([o.HostBinding("attr.role"),n.__metadata("design:type",String)],g.prototype,"role",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"checkboxes",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"expandIcons",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"selectable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"touchActions",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],g.prototype,"loadOnDemand",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"trackBy",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"nodes",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],g.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],g.prototype,"parentDataItem",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],g.prototype,"parentIndex",void 0),n.__decorate([o.Input(),n.__metadata("design:type",o.TemplateRef)],g.prototype,"nodeTemplateRef",void 0),n.__decorate([o.Input(),n.__metadata("design:type",o.TemplateRef)],g.prototype,"loadMoreButtonTemplateRef",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],g.prototype,"loadMoreService",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],g.prototype,"size",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"isChecked",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"isDisabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"isExpanded",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"isVisible",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"isSelected",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"children",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],g.prototype,"hasChildren",void 0),n.__decorate([o.Component({animations:[r.trigger("toggle",[r.transition("void => *",[r.style({height:0}),r.animate("0.1s ease-in",r.style({height:"*"}))]),r.transition("* => void",[r.style({height:"*"}),r.animate("0.1s ease-in",r.style({height:0}))])])],selector:"[kendoTreeViewGroup]",template:'\n        <li\n            *ngFor="let node of data; let index = index; trackBy: trackBy"\n            class="k-treeview-item"\n            [class.k-display-none]="!isVisible(node, nodeIndex(index))"\n            kendoTreeViewItem\n            [attr.aria-setsize]="totalNodesCount"\n            [dataItem]="node"\n            [index]="nodeIndex(index)"\n            [parentDataItem]="parentDataItem"\n            [parentIndex]="parentIndex"\n            [loadOnDemand]="loadOnDemand"\n            [checkable]="checkboxes"\n            [isChecked]="isChecked(node, nodeIndex(index))"\n            [isDisabled]="disabled || isDisabled(node, nodeIndex(index))"\n            [isVisible]="isVisible(node, nodeIndex(index))"\n            [expandable]="expandIcons && hasChildren(node)"\n            [isExpanded]="isExpanded(node, nodeIndex(index))"\n            [selectable]="selectable"\n            [isSelected]="isSelected(node, nodeIndex(index))"\n            [attr.data-treeindex]="nodeIndex(index)"\n        >\n            <div class="k-treeview-mid">\n                <span\n                    class="k-treeview-toggle"\n                    [kendoTreeViewLoading]="nodeIndex(index)"\n                    (click)="expandNode(nodeIndex(index), node, !isExpanded(node, nodeIndex(index)))"\n                    *ngIf="expandIcons && hasChildren(node)"\n                >\n                    <span\n                        class="k-icon"\n                        [class.k-i-collapse]="isExpanded(node, nodeIndex(index))"\n                        [class.k-i-expand]="!isExpanded(node, nodeIndex(index))"\n                    >\n                    </span>\n                </span>\n                <kendo-checkbox\n                    *ngIf="checkboxes"\n                    [size]="size"\n                    [node]="node"\n                    [index]="nodeIndex(index)"\n                    [isChecked]="isChecked"\n                    (checkStateChange)="checkNode(nodeIndex(index))"\n                    tabindex="-1"\n                ></kendo-checkbox>\n                <span kendoTreeViewItemContent\n                    [attr.data-treeindex]="nodeIndex(index)"\n                    [dataItem]="node"\n                    [index]="nodeIndex(index)"\n                    [initialSelection]="isSelected(node, nodeIndex(index))"\n                    [isSelected]="isSelected"\n                    class="k-treeview-leaf"\n                    [style.touch-action]="touchActions ? \'\' : \'none\'"\n                >\n                    <span class="k-treeview-leaf-text">\n                        <ng-container [ngSwitch]="hasTemplate">\n                            <ng-container *ngSwitchCase="true">\n                                <ng-template\n                                    [ngTemplateOutlet]="nodeTemplateRef"\n                                    [ngTemplateOutletContext]="{\n                                        $implicit: node,\n                                        index: nodeIndex(index)\n                                    }"\n                                >\n                                </ng-template>\n                            </ng-container>\n                            <ng-container *ngSwitchDefault>\n                                {{nodeText(node)}}\n                            </ng-container>\n                        </ng-container>\n                    </span>\n                </span>\n            </div>\n            <ul\n                *ngIf="isExpanded(node, nodeIndex(index)) && hasChildren(node)"\n                kendoTreeViewGroup\n                role="group"\n                [nodes]="fetchChildren"\n                [loadOnDemand]="loadOnDemand"\n                [checkboxes]="checkboxes"\n                [expandIcons]="expandIcons"\n                [selectable]="selectable"\n                [touchActions]="touchActions"\n                [children]="children"\n                [hasChildren]="hasChildren"\n                [isChecked]="isChecked"\n                [isDisabled]="isDisabled"\n                [disabled]="disabled || isDisabled(node, nodeIndex(index))"\n                [isExpanded]="isExpanded"\n                [isSelected]="isSelected"\n                [isVisible]="isVisible"\n                [nodeTemplateRef]="nodeTemplateRef"\n                [loadMoreButtonTemplateRef]="loadMoreButtonTemplateRef"\n                [parentIndex]="nodeIndex(index)"\n                [parentDataItem]="node"\n                [textField]="nextFields"\n                [loadMoreService]="loadMoreService"\n                [@toggle]="true"\n                [trackBy]="trackBy"\n            >\n            </ul>\n        </li>\n        <li\n            *ngIf="initialNodesLoaded && moreNodesAvailable"\n            class="k-treeview-item"\n            [class.k-treeview-load-more-checkboxes-container]="checkboxes"\n            kendoTreeViewItem\n            role="button"\n            [selectable]="false"\n            [checkable]="false"\n            [expandable]="false"\n            [index]="loadMoreButtonIndex"\n            [parentDataItem]="parentDataItem"\n            [parentIndex]="parentIndex"\n            [attr.data-treeindex]="loadMoreButtonIndex"\n        >\n            <div class="k-treeview-mid">\n                <span\n                    *ngIf="loadingMoreNodes"\n                    class="k-icon k-i-loading k-i-expand"\n                >\n                </span>\n                <span\n                    class="k-treeview-leaf k-treeview-load-more-button"\n                    [attr.data-treeindex]="loadMoreButtonIndex"\n                    kendoTreeViewItemContent\n                    [index]="loadMoreButtonIndex"\n                >\n                    <span class="k-treeview-leaf-text">\n                        <ng-template\n                            *ngIf="loadMoreButtonTemplateRef"\n                            [ngTemplateOutlet]="loadMoreButtonTemplateRef"\n                            [ngTemplateOutletContext]="{\n                                index: loadMoreButtonIndex\n                            }"\n                        >\n                        </ng-template>\n                        <ng-container *ngIf="!loadMoreButtonTemplateRef">\n                            Load more\n                        </ng-container>\n                    </span>\n                </span>\n            </div>\n        </li>\n    '}),n.__metadata("design:paramtypes",[s.ExpandStateService,h.LoadingNotificationService,d.IndexBuilderService,c.TreeViewLookupService,l.NavigationService,p.NodeChildrenService,i.DataChangeNotificationService,o.ChangeDetectorRef])],g));function g(e,t,i,n,o,r,a,s){this.expandService=e,this.loadingService=t,this.indexBuilder=i,this.treeViewLookupService=n,this.navigationService=o,this.nodeChildrenService=r,this.dataChangeNotification=a,this.changeDetectorRef=s,this.kGroupClass=!0,this.role="group",this.loadOnDemand=!0,this.textField="",this.size="medium",this.initialNodesLoaded=!1,this.loadingMoreNodes=!1,this._data=[],this.singleRecordSubscriptions=new m.Subscription,this.isChecked=function(){return"none"},this.isDisabled=function(){return!1},this.isExpanded=function(){return!1},this.isVisible=function(){return!0},this.isSelected=function(){return!1},this.children=function(){return m.of([])},this.hasChildren=function(){return!1}}t.TreeViewGroupComponent=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(5),a=i(62),s=i(60),d=i(16),c=i(27),l=i(26),p=i(25),u=i(24),h=i(23),m=i(53),f=i(21),g=i(50),v=i(49),y=i(48),_=i(12),b=i(11),I=i(10),x=i(36),D=i(34),S=i(20),C=i(19),k=i(15),i=i(46),r=[r.TreeViewComponent,a.TreeViewGroupComponent,g.TreeViewItemDirective,v.TreeViewItemContentDirective,d.NodeTemplateDirective,c.CheckDirective,l.DisableDirective,p.ExpandDirective,u.SelectDirective,h.HierarchyBindingDirective,m.LoadingIndicatorDirective,f.FlatDataBindingDirective,_.DragAndDropDirective,b.DragClueTemplateDirective,x.DragClueComponent,I.DropHintTemplateDirective,D.DropHintComponent,S.DragAndDropEditingDirective,C.LoadMoreDirective,k.LoadMoreButtonTemplateDirective],a=n.__decorate([o.NgModule({declarations:[r],exports:[r],imports:[s.CommonModule,y.CheckBoxModule,i.InputsModule],entryComponents:[x.DragClueComponent,D.DropHintComponent]})],E);function E(){}t.SharedModule=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),r=i(5),a=i(63),s=i(16),d=i(27),c=i(26),l=i(25),p=i(24),u=i(23),h=i(21),m=i(12),f=i(11),g=i(10),v=i(20),y=i(19),i=i(15),r=[r.TreeViewComponent,s.NodeTemplateDirective,d.CheckDirective,c.DisableDirective,l.ExpandDirective,p.SelectDirective,u.HierarchyBindingDirective,h.FlatDataBindingDirective,m.DragAndDropDirective,f.DragClueTemplateDirective,g.DropHintTemplateDirective,v.DragAndDropEditingDirective,y.LoadMoreDirective,i.LoadMoreButtonTemplateDirective],s=n.__decorate([o.NgModule({exports:[r],imports:[a.SharedModule]})],_);function _(){}t.TreeViewModule=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e){return e||{}}function o(e){return(e||{}).children||[]}function a(e){if(!Array.isArray(e)||0===e.length)return null;for(var t=e.length-1;0<=t;--t){var i=e[t];if(i.visible)return i}return null}var r=i(9),s=i(2);function d(){this.ib=new r.IndexBuilderService,this.nodes=[]}d.prototype.firstVisibleNode=function(){return(this.nodes||[]).find(function(e){return e.visible})},d.prototype.lastVisibleNode=function(){for(var e=a(this.nodes);s.isPresent(e)&&0<o(e).length;){var t=o(e),t=a(t);if(!s.isPresent(t))return e;e=t}return e},d.prototype.closestNode=function(e){var t=n(this.findNode(e)).prev||this.firstVisibleNode();return(t||{}).index===e?this.visibleSibling(t,1):t},d.prototype.firstFocusableNode=function(){return this.nodes.find(function(e){return!e.disabled&&e.visible})},d.prototype.findNode=function(e){return this.find(e,this.nodes)},d.prototype.findParent=function(e){var t=this.ib.level(e)-1;return this.findNode(this.ib.indexForLevel(e,t))},d.prototype.findVisibleChild=function(e){e=this.findNode(e);return o(e).find(function(e){return e.visible})},d.prototype.findVisiblePrev=function(e){var e=e.index,t=this.findParent(e),i=this.ib.lastLevelIndex(e),n=this.container(t).slice(0,i).every(function(e){return!e.visible});if(0===i||n)return t;var i=this.findNode(e),o=this.visibleSibling(i,-1);if(o)for(var r=this.container(o);0<r.length&&r.some(function(e){return e.visible});)o=a(r),r=this.container(o);return o},d.prototype.findVisibleNext=function(e){var t=this.container(e),i=t.some(function(e){return e.visible});return 0!==t.length&&i?t.find(function(e){return e.visible}):this.visibleSibling(e,1)},d.prototype.registerItem=function(e,t,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!0);var r=this.ib.level(t),a=this.findParent(t);!a&&1!==r||this.insert({id:e,children:[],index:t,parent:a,disabled:i,loadMoreButton:n,visible:o},a)},d.prototype.unregisterItem=function(e,t){t=this.find(t,this.nodes);t&&t.id===e&&(e=this.container(t.parent)).splice(e.indexOf(t),1)},d.prototype.childLevel=function(e){e=e.filter(function(e){return s.isPresent(e)});return e&&e.length?this.ib.level(e[0].index):1},d.prototype.container=function(e){return e?e.children:this.nodes},d.prototype.find=function(e,t){var i=this.childLevel(t),n=this.ib.indexForLevel(e,i),i=i===this.ib.level(e),t=t.find(function(e){return e&&e.index===n});return t?i?t:this.find(e,t.children):null},d.prototype.insert=function(e,t){this.container(t).splice(this.ib.lastLevelIndex(e.index),0,e)},d.prototype.visibleSibling=function(e,t){if(!e)return null;for(var i=this.findParent(e.index),n=this.container(i),o=n.indexOf(e)+t,r=n[o];s.isPresent(r);){if(r.visible)return r;r=n[o+=t]}return this.visibleSibling(i,t)},t.NavigationModel=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packageMetadata={name:"@progress/kendo-angular-treeview",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1646219256,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"}},function(e,t){e.exports=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(5),o=(t.TreeViewComponent=o.TreeViewComponent,i(64)),o=(t.TreeViewModule=o.TreeViewModule,i(16)),o=(t.NodeTemplateDirective=o.NodeTemplateDirective,i(27)),o=(t.CheckDirective=o.CheckDirective,i(26)),o=(t.DisableDirective=o.DisableDirective,i(25)),o=(t.ExpandDirective=o.ExpandDirective,i(24)),o=(t.SelectDirective=o.SelectDirective,i(14)),o=(t.DataBoundComponent=o.DataBoundComponent,i(30)),o=(t.ExpandableComponent=o.ExpandableComponent,i(23)),o=(t.HierarchyBindingDirective=o.HierarchyBindingDirective,i(21)),o=(t.FlatDataBindingDirective=o.FlatDataBindingDirective,i(12)),o=(t.DragAndDropDirective=o.DragAndDropDirective,i(20)),o=(t.DragAndDropEditingDirective=o.DragAndDropEditingDirective,i(10)),o=(t.DropHintTemplateDirective=o.DropHintTemplateDirective,i(11)),o=(t.DragClueTemplateDirective=o.DragClueTemplateDirective,i(42)),o=(t.DropAction=o.DropAction,i(41)),o=(t.DropPosition=o.DropPosition,i(40)),o=(t.TreeItemDropEvent=o.TreeItemDropEvent,i(39)),o=(t.TreeItemDragStartEvent=o.TreeItemDragStartEvent,i(38)),o=(t.TreeItemDragEvent=o.TreeItemDragEvent,i(19)),o=(t.LoadMoreDirective=o.LoadMoreDirective,i(15)),r=(t.LoadMoreButtonTemplateDirective=o.LoadMoreButtonTemplateDirective,t);for(n in r)a(n,r[n])}],o={},n.m=i,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=68)}}});